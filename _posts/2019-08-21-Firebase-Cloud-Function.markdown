---
layout:     post
title:      "Firebase Cloud Function"
date:       2019-07-24 12:00:00
author:     "Shi"
---

# Firebase Cloud Function



# Run cloud function locally

1. start 

```
firebase functions:shell
```

2. invoke a function

```
toUpperCase('first task')
```



# Logs

```
console.log("");
console.info("");
console.warn("");
console.error("");
console.debug("");
```



# Error reporting

```
throw new Error("A failure")
```











# Firebase Functions: Fundamentals

by [Ervis Trupja](https://app.pluralsight.com/profile/author/ervis-trupja)

Firebase Functions provide an easy way for developers to run and scale code in the cloud and build event-driven serverless applications. This course will teach you how to create Firebase functions using javascript and typescript.

[Resume Course](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live)BookmarkAdd to ChannelDownload Course

- [Table of contents](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/table-of-contents)
- [Description](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/description)
- [Transcript](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/transcript)
- [Exercise files](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/exercise-files)
- [Discussion](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/discussion)
- [Learning Check](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/learning-check)
- [Recommended](https://app.pluralsight.com/library/courses/firebase-functions-fundamentals/recommended-courses)

## [Course Overview](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live)

### [Course Overview](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live)

[Hi everyone, and welcome to my course,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=0) [Firebase Functions: Fundamentals. My name](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=7.478) [is Ervis Trupja, and I'm a self-employed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=10.687000000000001) [web developer and trainer. In this course,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=12.624600000000001) [we are going to talk about cloud functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=15.808666666666667) [for Firebase. It's a great service which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=18.505) [allows us to run back-end code in response](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=20.717444444444446) [to events triggered by Firebase features](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=23.444428571428574) [and HTTP requests. Some of the major](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=26.10525) [topics that we will cover include](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=29.583666666666662) [understanding cloud functions, calling,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=31.31125) [triggering, and writing Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=33.830400000000004) [functions, testing Firebase functions, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=35.876) [upgrading Firebase functions. By the end](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=39.46225) [of this course, you'll know enough to take](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=42.664500000000004) [advantage of the amazing Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=44.53225000000002) [functions as a serverless compute solution](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=46.211) [for creating event-driven applications.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=49.037) [Having previous experience with other](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=52.259) [Firebase services is recommended, but it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=53.898) [is not required. I hope you will join me](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=56.96079999999999) [on this journey to learn Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=59.37820000000002) [functions with the Firebase Functions: Fundamentals course here, at Pluralsight.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=efd6e821-ab57-4e1a-a00d-074c65ba2bde&clip=0&mode=live&start=60.846333333333334)

## [Getting Started](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live)

### [Getting Started](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live)

[Hi, and welcome to my course, Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=0) [Functions: Fundamentals. I am Ervis](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=4.699) [Trupja, and together we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=7.300375) [explore Firebase functions. Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=10.533599999999998) [functions for Firebase is a Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=13.282285714285715) [service which lets you automatically run](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=15.666) [back-end code in response to events](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=18.384) [triggered by Firebase features and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=21.462) [HTTP requests. There is no need to manage](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=25.790250000000007) [and scale your own servers because your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=28.762999999999995) [code is stored in Google's cloud and runs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=31.223499999999994) [in a managed environment. But what are we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=36.265)[going to learn on this course? We are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=40.7978) [going to start with the basic concepts of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=43.1065) [the cloud functions. We will give examples](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=45.6264) [so we can better understand it. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=48.13257142857143)[later, we will learn how to call a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=51.387) [Firebase function, how to trigger, write,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=52.931) [test, and monitor Firebase functions. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=57.098333333333336) [at the end of this course, assuming that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=61.21928571428571) [you already have experience with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=63.69266666666667) [previous versions of Firebase functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=65.762) [we are going to learn how to upgrade to the latest version. So let's get started.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=0&mode=live&start=67.20637500000001)

### [What Is Firebase?](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live)

[Before we start learning about Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=1.189) [functions, it is important to know what](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=3.375) [Firebase itself is, and Firebase is a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=6.231) [platform. We use the Firebase to build,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=10.9302)[improve, and grow our apps because the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=13.42314285714286) [tools that it gives us cover a large](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=16.030999999999995) [portion of the services that we, as](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=19.185249999999993) [developers, would normally have to build](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=22.3638)[ourselves. Some of the services that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=26.591500000000007) [Firebase offers are Firebase Firestore,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=28.844428571428576) [Firebase Realtime database, Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=32.18) [authentication, and the one that we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=35.315333333333335) [going to talk about on this course is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=38.14633333333334) [Firebase functions. The Firebase services](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=41.354) [are hosted in the cloud, and with cloud, I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=43.93714285714286) [mean that the products have back-end](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=47.487285714285704)[components that are fully maintained and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=49.656333333333336) [operated by Google. Then we have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=52.71357142857142) [client SDKs, which are provided by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=55.86033333333334) [Firebase to interact with these back-end](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=58.413857142857154)[services directly with no need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=61.659000000000006) [establish any middleware between your app](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=64.18328571428572) [and the service. So for example, if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=66.67649999999998) [are using one of the Firebase database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=69.2245)[options, you typically write the code to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=71.25) [query the database in your client app. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=73.26874999999998) [this is different than the traditional app](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=77.13642857142858) [development, which typically involves](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=79.7128) [writing both frontend and the backend, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=82.064) [then the back-end code does the work. But](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=85.84937500000001) [with Firebase products, the traditional](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=89.38250000000001) [backend is bypassed putting the work into](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=91.50366666666667) [the client. So let us get started and learn about the Firebase functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=1&mode=live&start=95.011)

### [Prerequisites](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live)

[To get the most out of this course, there](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=2.417) [are a couple of tools and technologies](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=5.3704285714285716) [which will be really helpful if you have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=7.143) [previous experience with. For development,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=11.512999999999998) [we are going to use Visual code. So if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=14.101444444444445) [want to follow along while coding, make](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=17.144250000000007) [sure that you have installed this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=19.454333333333338) [application. Also, we are going to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=22.308333333333334) [both JavaScript and TypeScript to write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=25.314) [functions. Having experience is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=28.833599999999997) [recommended, but it is not required in any](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=30.836142857142853) [way because I will show you step by step](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=33.62833333333333) [how to create the functions. Other than](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=36.542555555555566) [that, we are going to use Firebase CLI for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=39.138) [different configurations, deployments,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=42.873599999999996) [etc, but still, it's just a preferred skill, not required one.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=2&mode=live&start=44.735285714285716)

### [Why Should You Learn Firebase Functions?](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live)

[Why should you learn Firebase functions?](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=1.256) [The main reason for using Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=5.323) [functions, in my opinion, is because it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=7.227) [integrates perfectly with the other Google](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=9.518)[Cloud features. You can use it with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=12.741999999999999) [different triggers like, for example,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=15.803714285714282) [real-time database triggers, Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=17.664) [Firestore, authentication, etc. When using](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=20.68025) [Firebase functions, it is great because](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=25.606) [once you deploy your JavaScript and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=28.3015) [TypeScript code, you do not have to worry](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=30.29714285714286) [about the computing resources because they](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=33.51857142857142) [are automatically scaled up. You don't](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=36.49566666666667) [have to ever worry about the credentials,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=39.37325) [server configurations, provisioning new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=41.518) [servers, etc. Also, cloud functions are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=45.3655) [fully insulated from the clients which makes it a secure technology to be used.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=3&mode=live&start=49.38700000000001)

### [How Does It Work?](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live)

[After you write a function and deploy it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=1.197) [to the Firebase hosting, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=4.003222222222222) [immediately use that function and you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=6.799833333333334) [either call it directly or over an HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=9.722750000000003)[request. We are going to talk about these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=13.986571428571425) [topics later. So you, as a developer, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=17.930555555555554) [create a function by defining the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=20.672749999999994) [behavior, the conditions, etc, then you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=23.697200000000002)[publish this function so it's available to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=26.696428571428573) [be used. And finally, when an event is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=29.816571428571432) [triggered, the function is invoked. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=33.06057142857143) [us say, for example, we want to trigger a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=36.38999999999999)[function whenever somebody tries to add](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=38.446) [something in the Cloud Firestore. In this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=40.757428571428576) [case, we will create a function, we will](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=43.121) [deploy this function, and we will invoke](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=45.188500000000005) [this function whenever a change occurs. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=47.365857142857145) [the function is busy handling many events,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=52.227000000000004) [then Google will create for you more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=54.93814285714286) [instances to handle the work faster. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=57.554857142857145) [if the function is idle, instances are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=60.65716666666667) [cleaned up. But what happens when you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=63.92399999999999) [update or you want to delete an existing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=67.10000000000001) [function? Let us say you deployed you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=70.52566666666665) [function and now you want to update it.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=72.89350000000002) [When you update the function, all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=75.921) [instances for the old version are cleaned](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=78.955) [up and replaced by the new instances, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=82.04185714285714) [when a developer deletes a function, all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=85.39500000000001) [the instances are cleaned up and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=88.61042857142856) [connection between the function and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=91.62928571428573) [event provider, let's say Cloud Firestore,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=93.331) [is removed. You don't have to worry about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=96.13233333333334) [these concepts at the moment because in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=99.45442857142856) [the upcoming modules, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=101.25928571428568) [illustrate them one by one. But it's](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=103.621) [important to know that to implement the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=106.98328571428573) [function in Firebase functions, you first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=109.0566) [set up the cloud functions, you write your function, and then you deploy it.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=4&mode=live&start=111.23657142857144)

### [Setting up Node.js and Firebase CLI](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live)

[During this course, we are going to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=1.287) [the Firebase CLI. The Firebase CLI makes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=3.476) [it easy to set up in your Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=7.034) [functions project, run local development](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=9.376)[server, and deploy content. But use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=12.368) [Firebase CLI. We need to install Node.js](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=17.4865) [Server as well. Cloud functions can run on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=21.315749999999998) [either Node version 6 or Node version 8.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=24.497833333333336)[If you have existing functions built on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=27.467) [Node version 6, you can continue to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=29.459) [that version. Otherwise, you can install](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=32.1585) [the latest version of the Node.js. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=36.015666666666675)[start this part by installing the Node.js](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=40.8715) [and the Firebase CLI. To install the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=43.595) [Node.js Server, you can go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=47.834625) [nodejs.org URL and here you will get two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=50.417750000000005) [options, the recommended version, which is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=53.86533333333333) [the latest stable version, and the latest](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=56.727999999999994) [version as well. I have already installed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=60.36749999999999) [Node.js, and if you have not, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=64.37259999999999) [simply download it in here and install it.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=66.71450000000002) [To check which version of Node.js you have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=70.175) [installed, open the command prompt window.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=72.187) [In here, type node -v where v stands for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=75.559) [version. If you press Enter, you will see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=81.78250000000004) [that I have installed the version 8.11 .3.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=84.03811111111108) [Since I have already installed Node.js, I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=90.903) [can use the node package manager to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=94.10425000000001) [install the Firebase CLI, and to install](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=96.395) [Firebase CLI, go to your working](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=99.72) [directory. And after you navigate to your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=106.22400000000002) [working directory, in here, type npm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=108.99485714285713) [install -g, which stands for globally, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=114.1295714285714) [you install the Firebase CLI one time and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=118.16671428571429) [then it's accessible from anywhere within](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=121.13125000000002) [your working directory. And then just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=124.153) [write in here firebase tools, so firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=129.30362499999998) [-tools. And then next, press Enter. So you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=134.89575) [will have to wait for a couple of seconds](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=141.1032) [for the Firebase tools to be installed. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=143.039125) [now that the Firebase CLI is installed, let us create our first function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=5&mode=live&start=146.7305)

### [Creating Your First Function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live)

[To create a Firebase function, the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=1.341) [thing that we need to do is that we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=3.6694) [to initialize a Firebase project. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=6.202428571428571) [us see in action how we can initialize a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=9.394777777777778)[Firebase functions project and how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=11.932333333333334) [create a Firebase function. For that, let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=15.146714285714287) [us go to our working directory. In your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=18.603666666666673) [working directory, run the firebase login](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=22.417285714285715) [command to log in via the browser and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=25.23166666666667) [authenticate the Firebase tool, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=28.381) [firebase login and then press Enter. So I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=32.811) [see that I'm already logged in, but if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=38.68300000000001)[not, I'm going to be prompt with a window](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=41.522200000000005) [to enter my credentials so I can easily](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=44.27575) [log in and configure my Firebase tool. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=46.92425) [before we proceed further, let us create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=51.134) [Firebase project which we are going to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=53.7465) [along this course. So for that, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=56.00128571428571) [Firebase on google.com, click the Go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=58.16525000000001) [console button, click in here the Add](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=63.51399999999999) [project button, then provide a name. I'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=68.48485714285717) [name my project My Functions, and you'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=71.22825000000003) [see that a project ID will be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=73.42900000000003) [automatically generated. I'll leave the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=76.3676) [locations by default, then I will accept](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=78.56750000000001) [the terms and click Create project button.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=81.04449999999999) [So now that the Firebase project is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=85.235) [created, we are ready to configure the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=87.085)[Firebase functions. So let us go back to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=89.71566666666666) [the working directory and here we'll type](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=93.41766666666665) [firebase init functions and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=95.872) [Enter. Answer with yes to the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=100.75319999999998)[question or you can simply press the Enter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=103.37375000000002) [button. And from here, select a project,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=107.6894285714286) [I'm going to select the project that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=109.969) [just created, which is the My Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=111.386) [project, and then press Enter. Now you'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=113.834) [be asked to choose the development](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=118.786) [language. I'm going to choose JavaScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=121.10866666666666) [because we are going to learn about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=123.64683333333333) [TypeScript in an upcoming part. So I press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=125.28775000000003) [Enter in here and then Enter one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=128.6673333333333) [time. Enter one more time to install the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=133.01116666666667) [dependencies with the Node Package Manager](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=135.462) [and then I wait for a couple of seconds](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=138.304) [for all the dependencies to be installed.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=140.3182000000001) [So that now everything is installed, I can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=144.322) [open the project by using the Visual code](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=147.13855555555557) [by typing in here code. and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=149.808875) [Enter and my project is opened](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=155.425625) [automatically. In here, by default, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=159.22737499999997) [going to see a couple of files. The first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=160.83420000000007) [file that we see in here is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=162.70987499999998) [.firebaserc and this file will continue](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=165.96099999999996) [the projects that we want to configure.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=168.60742857142856) [This file will help us to quickly switch](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=171.20999999999998) [between projects using the firebase use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=174.17100000000002) [command if we want to. The other file that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=176.807375) [we have in here is the Firebase.json file,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=180.03499999999997) [and in this file, we describe the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=182.38533333333334) [properties of our project. At the moment,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=186.83614285714287) [we don't have any properties in here. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=190.09257142857146) [also see in here that we have a functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=192.445) [folder, and inside this functions folder,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=195.81700000000004) [we have the node_modules that we just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=197.574) [installed using the npm. We have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=199.573) [index.js file, which is the main source](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=202.702875) [file for your cloud functions, then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=205.39885714285717)[have the package.json file and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=208.4945) [package.json file is a file describing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=211.085) [your cloud functions. So for example, if I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=215.074) [type in my command firebase serve, these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=219.65511111111113) [are the commands that I'm going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=221.26257142857145) [execute. And then if I have time, for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=223.07766666666663) [example, firebase start, I'm going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=225.1794) [actually run the npm run shell command,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=227.449125) [etc. To create a function, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=230.75885714285715) [index.js file, and in here, you can simply](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=235.746625) [uncomment these lines of code. So we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=239.878625) [the helloWorld function, which is just a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=244.3755) [function which is going to be triggered](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=246.49588888888889) [when we request it using an HTTP request](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=248.41700000000003) [and it's going to just respond to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=251.411) [browser with the response.send and here we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=254.92471428571426)[have the Hello from Firebase message. This](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=259.139) [is just a demo because on the upcoming](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=263.7626666666667) [modules we are going to create functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=265.712) [step by step, but for the moment, it's](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=267.952) [important to know that to make a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=270.4485) [accessible, we use the exports keyword and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=272.7823333333333) [the function name. And then in here, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=275.7092) [define the function is a callable function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=278.0336666666666) [or if it's a function that we can trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=279.80262500000003) [on a request and we are going to talk in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=282.6671999999999) [more details about functions in the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=285.4169999999999) [upcoming parts. Now that we created a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=287.9694) [function, let us deploy this function, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=290.885) [to deploy a function, simply open the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=293.14424999999994) [terminal, and in here, type firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=296.97700000000003) [deploy, use the only flag if you want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=300.7951666666666) [deploy only functions, so only functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=304.15455555555576) [So now that the function was successfully](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=313.484) [deployed, we see that we can access it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=315.703) [from this URL. The first part is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=317.567) [us-central, then we have the projects id,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=320.934) [.cloudfunctions .net / our function. To](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=325.872) [see the result, we can copy this link, go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=330.5138888888889) [to any browser of your choice, I'll use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=334.29900000000004) [Google Chrome, and then in here, open a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=336.36850000000004) [new tab, paste this URL and press Enter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=339.15099999999995) [And here you see the Hello from Firebase message that we defined in our function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=6&mode=live&start=342.871)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live)

[On this module, we talked about the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=1.214) [Firebase functions and we learned that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=3.39) [Firebase functions are great because they](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=6.033) [integrate perfectly with the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=8.867)[platform. Also, we don't have to maintain](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=12.557833333333333) [any servers after we deploy our functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=15.178500000000003) [because Google will take care of that and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=17.988499999999995) [the logic is kept private, which makes the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=20.56544444444444) [Firebase functions really secure. Later,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=23.565857142857148) [we'll learn how to install Node.js and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=26.980857142857143) [Firebase CLI and we need the Firebase CLI](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=29.522) [for different configurations, for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=33.178) [different deployments, and much more. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=36.14333333333333) [at the end of this module, we learned how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=38.987428571428566) [to create a function and how to deploy it.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=41.136333333333326) [Even though we use the default template,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=43.5315) [in the upcoming modules, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=45.91166666666667) [talk about functions and how to create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=48.72300000000001) [them step by step. We are also going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=50.41957142857143) [learn how to create different types of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=52.913111111111114) [functions and how to trigger them from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=55.09028571428572) [different events. So this was all for this module. See on the next ones.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=0ac684ba-3d1e-46c0-adb5-155a2bf9aefb&clip=7&mode=live&start=58.5776)

## [Calling Functions Directly](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live)

[Hi, and welcome to the second module of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=0) [these tutorials. In here, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=4.65925) [talk about calling Firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=7.4397142857142855) [directly. We are going to first create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=10.798285714285715)[callable function, and after we create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=13.061625000000003) [this function, we are going to learn how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=15.410666666666666) [to set up the client part so we can call](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=17.490111111111112) [this function. And then next, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=21.143000000000008)[to learn how to trigger functions with an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=23.309) [HTTP request, and at the end, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=26.123666666666665) [to learn how to terminate an HTTP function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=0&mode=live&start=28.46629999999999)

### [Creating a Callable Function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live)

[The cloud functions for Firebase client](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=1.463) [SDKs. Let us call functions directly from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=4.772428571428571) [a Firebase application. Now to call a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=7.107) [Firebase function from your application,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=10.199999999999998)[you need to write and deploy a callable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=11.98525) [function in the cloud functions, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=15.381499999999999) [next, we need to add client logic to call](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=18.168222222222223) [the function from our application.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=21.381999999999998)[Callable functions are similar to other](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=23.692) [HTTP functions, but additionally with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=26.602) [callables, if available, Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=29.524) [authentication is included in the request](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=31.818833333333334) [and the trigger will automatically](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=34.63033333333333) [deserialize the request body and validate](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=37.217) [the authentication tokens. To create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=39.951) [callable function, we need to use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=43.925875) [function onCall. This method will take two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=47.199) [parameters, a data, and then optional](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=50.91399999999999) [context. So let us create our first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=53.95149999999999) [callable function. Let us first make sure](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=57.45925000000002) [that we are already logged in, so for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=59.89122222222221) [that, write firebase login, so firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=62.04500000000001) [login, and then press Enter. So we see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=67.15200000000002) [that we are already logged in. Now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=70.59833333333333) [configure Firebase functions, so for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=73.55149999999999) [firebase, then init, and then functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=77.32333333333332) [Press Enter, then choose a default](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=81.69) [project. I'm going to choose the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=85.91742857142856) [StaffProject, but you can create any](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=88.15116666666668) [project of your choice. Then I'm going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=91.152) [select JavaScript, and then at the end,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=95.24666666666668) [press Enter one more time to install all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=97.23155555555556) [the dependencies. Now that everything is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=101.03600000000002) [set up, go to the functions folder. Inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=103.272) [the functions folder, you are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=105.96028571428572) [an index.js file, and inside this file, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=108.29100000000001) [are going to create the first callable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=111.15685714285713) [function. To create a callable function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=113.829) [we need to first define the name of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=115.58337499999999) [function, so for that, we write exports](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=117.77642857142854) [and then. define the name, which is going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=122.59249999999997) [to be addPerson. So functions.https and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=128.67766666666665) [then onCall. We said that it takes two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=136.76120000000003) [parameters so the data and the context and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=142.28933333333333) [now we can work with the data and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=145.79222222222216) [context of this function. So let us say](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=152.08000000000007) [from the data we are going to send a first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=155.9316363636364) [name and a last name, so for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=157.58200000000002) [write var firstName is going to be data.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=161.22599999999997) [give the property firstName from the data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=166.26828571428567) [and then the lastName, so we change this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=170.34899999999996) [to lastName and then data.lastName. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=174.19674999999998) [have the first name and the last name.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=177.74371428571425) [What we want to do now is that we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=180.706) [return the full name to the users as well.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=182.008) [So for that, we write return and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=184.344) [inside curly brackets write firstName is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=188.157) [going to have a value of the firstName](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=191.805) [that we created in Line 11, comma, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=193.7143333333333) [last name is going to be our lastName. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=199.8191111111111) [us add one more field, which is going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=205.24977777777778) [be fullName and this is going to be a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=207.4533) [combination of firstName separated by a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=211.893) [space, and then lastName. So this is all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=218.243) [you need to do to create a callable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=222.68780000000004) [function. Now so far, we are just creating](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=224.83433333333332) [the function and returning something so we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=227.20550000000006) [are not storing any data in a real time](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=228.996)[database, but we are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=231.083) [that later. And now let us deploy this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=232.79885714285714) [function. So for that, in your terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=236.65) [write firebase deploy --only functions and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=238.769)[then you can define the name of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=251.587) [function that you want to deploy, so I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=253.4) [want to deploy the addPerson function, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=255.38674999999998) [for that, write addPerson and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=258.7343333333333)[Enter. The function was deployed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=266.2966666666666) [successfully. So if you go in the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=270.3673999999999) [console on the Project Overview, then go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=272.93570000000017) [to the Functions menu item, on the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=275.5659999999999)[Dashboard tab, you're going to see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=278.6252857142858) [now we have a function named addPerson. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=280.3306666666668) [this is before you publish a function to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=284.27022222222223) [Firebase and then you trigger this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=286.32) [function from your client, but let's see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=289.5094285714287) [how we can trigger this function on the next part.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=1&mode=live&start=291.4096666666666)

### [Setting up a Client Environment](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live)

[On the last part, we created the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=1.336) [and then we deployed this function to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=3.403) [Firebase project. Now let us see on this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=5.754666666666667) [part how we can call that function from a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=8.649636363636363) [client application. In here, let us go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=12.339) [the index.html file, which is empty at the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=15.44666666666667) [moment, so it doesn't have anything, it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=17.714333333333332) [just has a button, and when we click this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=19.761714285714284) [button, we are going to execute a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=22.068777777777782) [named addEmployee. Now this addEmployee](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=25.08566666666666) [will have a value of the firstName and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=26.90175) [lastName, which we get from these two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=29.950200000000006) [input text boxes. When working with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=33.24933333333333) [Firebase callable functions, the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=36.063399999999994) [thing that we need to do is that we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=37.8625) [to make sure that we have initialized the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=40.050000000000004) [client SDK, and to initialize the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=42.892599999999995) [SDK, let us go to Firebase console. And in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=46.78766666666666) [the Project Overview page, go to the third](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=52.03866666666667) [option in here, which is web, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=54.270571428571415) [click the Copy button. Now that we copied](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=58.53044444444444) [this code, let us go back to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=62.10466666666668) [application and paste it before our script](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=64.37025) [tag. So here, we create a reference to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=68.40950000000001) [firebase.js file, and then next, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=74.96119999999999) [initialize the Firebase application. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=78.33049999999999) [the first thing that we need to do is that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=81.06710000000001) [we need to create a reference to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=82.75812499999999) [callable function. So for that, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=84.961) [write var addPerson is equal to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=90.37011111111109) [firebase.functions so I want to create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=98.03833333333333) [reference to the functions in my Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=101.17333333333336) [project. And then from my functions, I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=105.55199999999999) [want to get an HTTPS callable function. I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=107.79) [write .https callable, and then inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=112.54357142857143) [parentheses, we need to define the name of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=119.045) [the function and the name of the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=121.389) [is addPerson. For the addPerson, we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=124.94433333333333) [defined that the addPerson will take as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=129.52799999999996) [parameter some data. Now let us call this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=132.30837499999996) [function with some data. So now we use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=135.70944444444447) [reference, and then inside curly brackets,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=141.36033333333341) [we define the properties that we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=143.47) [send, and we have said that we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=145.033) [send a firstName and a lastName. So inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=147.9076) [the index.html file, write firstName, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=152.6582) [define the value to be this firstName and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=155.87000000000003)[we do the same for the lastName, so last,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=160.31622222222228) [and we replace this firstName with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=165.19750000000002) [lastName in Line 21. So this is how you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=170.10128571428575) [call the function. Now to get the response](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=174.67062500000006) [back right, then we are going to get the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=177.09914285714288) [result. So we write the function, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=180.39287499999995) [result, and in case the request is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=189.16185714285717) [successful, as a result, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=192.27871428571436)[get this part. And what do we want to do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=196.0741000000001) [with that. Let us console.log the result,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=198.92977777777776) [so console.log and then the result. And in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=202.029) [case something goes wrong, we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=209.84633333333335) [catch the error, so for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=211.42899999999997) [.catch and then we add in here a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=214.56255555555552) [error, so function and then error. Now we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=224.59325) [just want to simply console.log the error.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=235.1736666666667) [Let us save the changes, right-click in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=240.587) [here, and then go to the Reveal in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=242.71) [Explorer. Then next, run your application.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=249.8984444444445) [In here, provide a name, so it's going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=252.397) [be Ervis and a last name, Trupja, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=254.147) [click the Add person button. And in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=260.15628571428573) [we're going to see an object response,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=263.28133333333335) [which inside has three properties. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=265.093) [first name is going to be my name,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=268.0283333333333) [lastName, and a fullName, which is going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=270.191) [to be my full name. Now with callable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=272.60687499999995) [functions, you can do much more than just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=277.224) [returning some data. You can actually use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=279.698) [the callable functions to store some data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=282.66499999999996) [in a database. So let us see how we can do that on the next part.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=2&mode=live&start=284.9124285714285)

### [Storing Data in Firebase Realtime Database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live)

[So far, we have created the function and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=1.23) [then we created the client app to execute](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=3.326) [this function, but the function just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=6.199) [returns some data. What if we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=8.836)[store this data to a Firebase realtime](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=11.583) [database. So let us see how we can store](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=15.259749999999999) [data in a Firebase realtime database using](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=18.03227272727273) [a callable function. Let us go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=21.58357142857143)[index.js file and the first thing that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=25.083333333333332) [need to do is that we need to import the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=26.8608) [necessary requirements. And let us import](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=31.108333333333334) [the Firebase admin, so for that, you write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=34.509714285714296) [const admin is equal to require, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=38.40977777777777) [inside single quotes, write firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=45.6) [-admin and initialize the firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=51.35333333333334) [administrator apps, and for that, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=55.465666666666664)[admin.initializeApp, and that's all you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=58.0124) [have to do on this part. Let us remove](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=63.11714285714285) [this comment because we are not going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=65.39800000000001) [use them and it goes to the Line 9 of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=67.21459999999999) [function. So instead of returning this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=71.05080000000001) [object, we're going to use this object to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=74.191) [store it in a Firebase realtime database.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=77.278375) [So for that, we write return](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=80.972)[admin.database, so now we create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=83.438) [reference to the databases. Inside the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=86.943) [database, I want to reference the persons,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=90.07042857142858) [and then inside single quotes, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=93.576)[/persons. And what I want to do next is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=99.82266666666666) [that I want to push some data, so I'm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=103.38263636363641) [going to write .push, and then inside the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=105.59333333333332) [push method, I'm going to put this object.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=110.60157142857143) [So cut the object and paste it in here.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=115.838) [And then to get a response, write .then,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=120.636) [open curly brackets because I'm not](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=123.39166666666667) [interested in other response of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=126.76042857142856)[function, I just want to check if it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=128.391) [executes successfully. Open curly](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=131.49566666666666) [brackets, and inside here, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=135.713) [console.log New person added, and then let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=139.09359999999998) [us just return Ok so we know that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=149.8885) [everything worked as expected. So when we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=154.634) [write return Ok in here, it means that an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=158.70924999999997) [index.html file when we have the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=162.493) [result that is going to be the value of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=165.46312500000005) [the result so we are going to console.log,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=168.531) [the Ok. Let's go back to the index.html.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=171.8485) [But what happens when something goes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=176.897) [wrong. When something goes wrong, we want](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=179.3887142857143) [to catch that. So let us write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=181.4533333333333) [.catch. So we want to catch the default](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=185.35771428571437) [error. So for that, we write inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=188.01475000000005)[parentheses error and to ensure that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=189.9718571428572) [client gets useful error details, return](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=195.986375) [errors from a callable by throwing an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=198.26750000000004) [instance of the functions.https](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=201.16171428571428) [.HttpsError. So inside here, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=204.7555) [throw new and then functions.https](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=210.0337777777778) [.HttpsError. It helps us define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=218.796) [default properties in here, so it's going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=226.4281428571429) [to be an unknown. And then we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=230.4301111111111) [display the error message, so for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=234.26550000000003) [write error.message. And then for details,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=239.81342857142863) [let us return the error itself and let's](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=242.80742857142852) [save the changes. But before you test this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=246.99524999999997) [application, you need to make sure that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=251.26183333333339) [you have already enabled the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=252.86466666666672) [realtime database in your project. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=254.98160000000001) [that, let us go to the Firebase console,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=257.4169999999999) [and inside the Firebase console, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=261.132) [Database menu item. Then in here, click](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=265.33099999999996) [the Create database and then the Enable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=268.86699999999996) [button. Then from the Database drop-down,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=272.47249999999997) [change it from Cloud Firestore to Realtime](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=275.027) [database. Now let's test our application.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=278.40275000000014) [In here, I will leave just the default](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=281.57) [values and click the Add Person button. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=283.204) [we see that we still get the same](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=286.3232222222222) [response, even though we changed the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=287.893) [function. Now the reason why we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=290.19785714285723) [getting the same response, even though we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=291.98400000000015) [changed the function, is because we didn't](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=293.70566666666673) [publish this function and the Firebase is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=296.20671428571416) [not aware of our changes. So let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=298.8980000000001)[back to our code, and in your terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=301.2890999999999) [execute the previous command one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=305.653) [time. So Firebase deploy on the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=307.41442857142874) [and then define the addPerson function to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=310.08742857142846) [be deployed and then press Enter. So the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=312.3302857142856) [function was updated. Now let us go back](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=320.69079999999997) [to our application one more time, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=322.5954444444445) [refresh the browser, and then leave the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=326.9835714285714) [default values and click the Add Person](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=330.96599999999995) [button. Now we see that instead of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=336.04600000000005) [previous object, we are going to get a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=338.93250000000006) [response Ok. Let us go to our database and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=342.01588888888904) [see the result over there. So in here, now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=344.05988888888885) [we see that we have the persons reference,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=346.07777777777767) [and inside the persons, we're going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=348.48) [the first person so the firstName, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=351.362) [lastName, and the fullName. Let us keep](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=354.6022) [this window on the side and add one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=357.79179999999997) [person. So I'll write John Smith and I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=361.78175) [click the Add Person button and here we're](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=367.85) [going to see that another person was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=370.8518888888889) [added. Let's add one more, click the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=373.04911111111096) [button. So now we see a third person in our database.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=3&mode=live&start=379.51128571428586)

### [Triggering Functions with an HTTP Request](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live)

[In Firebase, you can trigger a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=1.348) [through an HTTP request by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=3.591) [functions.https. This will allow you to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=6.264) [invoke asynchronous function by using get,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=10.678)[a post, a put, and a delete HTTP method.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=14.301) [So we use the functions that HTTPS to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=18.94) [create a function that will handle HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=22.44) [events. Now the event handler for the HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=25.90325) [function will listen for the onRequest](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=29.636374999999994) [event, which will support router and apps](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=33.030199999999994) [managed by the express web framework. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=35.74728571428571) [let us see how we can create our first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=39.979299999999995) [function, which we can call from an HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=42.304) [request. So we need to first define a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=46.05511111111113) [function name, so for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=48.92033333333335) [exports.date. So we are going to use this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=53.18249999999999) [function to generate the datestamp at the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=55.50333333333336) [moment that we call this function. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=58.116285714285716) [then write equal to functions.https](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=63.4354) [.onRequest, which means that we can call](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=65.8376) [this function over an HTTP request. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=73.20333333333333) [define two parameters in here so the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=77.295875) [request and the response, and then inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=79.241) [the body of this method, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=85.46) [create a const date variable. So const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=87.369) [date is equal to new Date. Now that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=91.49925) [have the date, we can create a reference](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=96.05519999999999) [to our database and then store this data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=98.0052857142857) [over there. So let us write const snapshot](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=100.94399999999999) [so we can have a reference of our snapshot](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=104.91633333333337) [is equal to admin.database and then .ref,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=109.15625000000001) [and then inside single quotes, write / and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=117.989) [then dates. We want to store these values,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=122.83240000000002) [so we want to push this value to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=125.82733333333336) [database. For that, we write .push, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=128.11642857142857) [then in here, let us send an object with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=132.10866666666672) [one property. So now is going to be the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=136.40750000000006) [property name and then date.toDateString.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=139.98270000000005) [And then in here, let us write res.send](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=147.858) [and then let us display the same result in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=153.30155555555558) [our browser so date.toDateString. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=156.0015555555556) [save the changes and publish this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=161.5471111111111) [function. So we just need to change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=163.7104444444444) [function name in here from addPerson to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=165.89566666666676) [date, and then press Enter. So we see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=172.92366666666666) [the function was successfully published.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=178.15499999999997) [Now let us copy the function URL, go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=180.095)[the browser, open a new tab, and paste it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=186.4102999999999) [in here, and then press Enter. So in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=189.27911111111112) [we are going to see the result. And if we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=193.5281) [go to our database, in here, accept](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=196.15800000000002)[persons, we are going to see the dates](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=198.793625) [reference, and inside the dates, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=202.09566666666666) [going to see the date. Let us execute it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=205.87557142857142) [one more time. We have the same result,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=210.32757142857142)[and in here, we are going to see another entry.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=4&mode=live&start=213.56612500000006)

### [Terminating HTTP Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live)

[On the last part, we created a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=2.053) [which was returning a date and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=4.064) [stored the date in a Firebase realtime](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=6.431) [database, but there is much more to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=8.855)[functions in Firebase. So for example, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=12.412) [can read the values from the request and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=15.813500000000003) [the modular request is going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=19.1625) [automatically be pairs based on the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=21.61542857142857)[content type pattern and we have some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=24.119875) [mostly used content types. So for example,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=26.646) [when the content type has been defined to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=30.560874999999996) [be application/json, then to get a value](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=33.71900000000001) [from the request, we can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=36.29524999999998) [request.body. the property name. We can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=39.45899999999999) [define the content type to be the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=42.40877777777778) [octet-stream type, and then in this case,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=45.012)[together value we can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=48.444) [request.body, which will equal in a role](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=51.38914285714287) [bides value, but then we can use buffers](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=53.77450000000001) [to gather real data. Also, we can define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=56.917599999999986) [the content type to be text-plain, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=59.742666666666665) [then in this case, we can use simply](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=61.846666666666664) [request.body, but instead of robot, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=64.6012) [going to have the value itself. We can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=67.06900000000002) [also define a form content type, and that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=69.81625000000001) [in this case, to get the data out of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=72.58162500000003) [request, we can use the request.body. then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=75.29625000000004) [the property name. So for example, if we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=78.331) [have a property named name with a value of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=80.81477777777776) [John, if we write request.body .name then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=83.69300000000001) [John is going to be the response. It is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=86.9664285714286) [important to mention that we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=91.00714285714287) [always terminate HTTP functions, and to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=93.2732857142857) [terminate an HTTP function, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=96.29814285714284) [always end an HTTP function with send, a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=100.00733333333335) [redirect, or an end. Now the send is going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=104.389) [to send a response back in our browser. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=109.31522222222225) [in the same URL, the redirect will be used](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=112.72055555555555) [to redirect us somewhere else and the end](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=115.814875) [is used to quickly end request. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=118.63614285714286) [see what we can do with our previous](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=122.111) [function. So for that, let us go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=124.53299999999997) [Visual Code project. So first of all, let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=128.3349090909091) [us say that we don't want to execute this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=131.07800000000003) [function if the request method is not a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=133.78714285714287) [get method. So for that, we can write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=136.71714285714287) [here if then request.method is different](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=140.8384) [from get. We need to return a status. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=149.57319999999999) [this is a way to end this function. So you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=157.14600000000002) [write return as a result, return a status](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=161.02057142857146) [of type 403 and then send a message to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=165.74280000000005)[browser forbidden. Let us say that after](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=177.57219999999998) [you have the snapshot, you don't want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=183.29125) [just return this response to the browser.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=185.16671428571422) [You want to actually redirect the user to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=187.903) [that snapshot. So for that, we need to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=190.64255555555556) [a response as well. So in here, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=193.7416) [response.redirect. Inside the redirect,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=198.3952) [write 303, and what we want to send, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=201.154125) [want to send the snapshot of the data. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=205.42344444444444) [for that, write snapshot.reference](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=207.47899999999996) [.toString. So these things that redirect](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=213.51533333333336) [us to the reference of the snapshot. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=218.09287499999996) [us save the changes and publish the date](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=222.374625) [function one more time. Let us go back to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=224.5812) [our application, and here, press Enter. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=227.91628571428575) [now we see that instead of seeing a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=230.4612222222222) [response in our screen, we are being](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=232.063) [redirected to exactly that new date. And in here, we are going to see that result.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=5&mode=live&start=233.647)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live)

[On this module, we talked about how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=1.165) [call functions directly. We started by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=3.89) [first creating a callable Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=7.6930000000000005) [function. So we roll functions and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=9.928333333333335)[deployed these functions to our Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=13.035499999999995) [project. And after we had created a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=16.366666666666667) [callable function, we learned how to set](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=18.590714285714284) [up a client environment so we can actually](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=20.642) [call and use the response of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=23.590125000000004) [function. Then next we learned how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=26.3066) [store data in Firebase Realtime database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=28.514333333333326) [from a Firebase callable function. At the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=30.906599999999997) [end of this module, we learned how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=35.01444444444445) [work with functions via HTTP requests. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=37.943999999999996) [we learned how to trigger a function, how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=41.294) [we can read values from requests, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=43.76128571428571) [at the end, we learned how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=46.402111111111104) [terminate functions. So I hope you have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=48.42366666666666) [enjoyed what we have learned so far, and I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=50.72433333333334) [hope to see you on the next module so see you on the next one.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=d1c3a89c-e764-4bcc-a94b-12cbc743b2cc&clip=6&mode=live&start=52.97999999999999)

## [Triggering Firebase Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live)

[With Cloud functions, you can handle](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=0) [events in different Firebase services with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=3.286285714285714) [no need to update the client code. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=5.982571428571428) [during this module, we are going to talk](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=9.665375000000001)[about some of them. We are going to start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=11.817) [with Cloud Firestore triggers, and if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=15.17175) [want to learn more about Cloud Firestore,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=17.202) [you can check out my course, Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=20.153) [Firestore: Getting Started. After that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=22.358249999999998) [are going to work with realtime database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=25.4805) [triggers, and in here, we are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=28.130333333333333) [how we can set up a trigger and how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=29.948636363636375) [handle the event data. Next, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=32.387750000000004) [to talk about authentication triggers. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=35.12066666666665) [at the end, we will talk about Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=38.456) [storage triggers. We will see how to work](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=41.010999999999996) [with Cloud storage files and much more. So let's get started.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=0&mode=live&start=43.79300000000001)

### [Triggers on Cloud Firestore Changes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live)

[With Cloud functions, you can handle](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=1.919) [events in Cloud Firestore with no need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=3.9238571428571425) [update the client code. And in a typical](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=7.148124999999998) [lifecycle, a Cloud Firestore function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=11.634) [first waits for a change. It can be a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=13.998666666666665) [document or a collection. Then a trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=18.077818181818177) [happens when an event occurs, and then at](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=20.95885714285715) [the end, we can simply receive the data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=23.903111111111112) [and work with this data. In Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=27.350250000000003) [Firestore, we can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=30.44085714285714) [functions.firestore object, and by using](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=31.758) [this object, we can handle all the event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=35.30200000000001) [types. We have the event onCreate and this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=38.36250000000001) [event is triggered when a new document is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=41.59350000000002) [created. Then next we have the onUpdate,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=45.18962500000002) [and as the name already indicates, this is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=47.78) [triggered when we update a document. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=50.76825) [next, we have the onDelete and this is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=54.201) [triggered when a document with data is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=56.882666666666665) [deleted. And the last one is the onWrite](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=60.072333333333326) [and this is triggered when any change](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=62.76520000000001) [happens in document so it's triggered when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=65.43666666666667) [onCreate, onUpdate, or onDelete. It is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=68.5046666666667) [important to mention that Cloud Firestore](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=72.05242857142856)[events will trigger only on document](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=74.33279999999999) [changes, so it is not possible to add](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=76.981) [events to specific fields. Let us now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=80.78433333333334) [create some functions which are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=83.85162499999998) [be triggered when an event occurs. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=86.3025) [that, let us go to our Visual Code](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=89.36690909090909) [solution. In your Visual Code, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=91.94654545454547) [functions folder, and then here you have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=93.93762500000004) [the index.js file. Let us now remove these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=96.26933333333336) [lines of code because we are not going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=98.44225000000002) [use them. And in here, let us create a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=100.762) [section used for Cloud Firestore. So I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=103.48333333333329)[will just write in here Cloud Firestore](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=106.74600000000001) [triggers. To create a function, we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=110.68466666666667) [said that we use the exports keyword and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=113.11866666666666) [we want to create four functions. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=115.37350000000002)[name the first one staffAdded. And then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=120.23885714285714) [said that Firebase SDK exports the object](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=125.39125) [functions.firestore to create handlers. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=128.77700000000002) [let us use that object, for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=132.107125) [functions.firestore. Then next, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=137.39200000000002) [define a document, so for that we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=140.53342857142854) [.document, and then inside the single](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=143.8491666666667) [quotes, write staff, so we are searching](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=146.38083333333338) [for a document inside the staff](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=150.48700000000002) [collection. So then I'll just write here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=154.54799999999997) [staffId, which means it can be any](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=158.48728571428575) [document within the staff collection. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=160.93249999999995) [the first event type is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=164.2409) [onCreate. So for that, we write .onCreate.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=166.68010000000004) [Now this has two parameters, so the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=170.39) [one is going to be a snapshot or just snap](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=173.779)[and then context. And for the moment, let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=178.278) [us just console.info that this event was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=182.22683333333333) [triggered. So for that, write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=185.94833333333332) [console.info and then A new staff member](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=189.85175)[was added. We are going to do the same for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=194.35850000000002) [the other events as well. So I'll just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=196.8479999999999) [copy these lines of code and then paste](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=199.22724999999997) [them here. I will change the onCreate](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=201.94750000000002)[event to be onUpdate .onUpdate, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=204.82875000000004) [change the name of the function from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=210.75966666666665) [staffAdded to staffUpdated. And then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=216.02525000000003) [change the A new staff member was added to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=218.61200000000002) [staff member, or just a staff member, was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=221.7451111111111) [updated. And now, let us do the same for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=227.46599999999995) [the delete event. So I'll just copy these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=230.58636363636367) [lines of code, Ctrl+C, and then Ctrl+V to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=232.99500000000003) [paste them here. Change the name of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=236.289375) [function to staffDeleted and then change](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=238.88371428571432) [the event to be onDelete. In Line 15,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=242.90799999999996) [change the was updated to was deleted. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=247.92199999999997) [we have the last one, which is onWrite,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=253.20111111111112) [which is going to catch any type of event.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=255.098) [So for that, change that to staffChanged,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=257.517) [and then here onWrite, and then change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=261.724) [text to be A staff member was changed. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=264.338) [that we created these functions, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=268.30949999999996) [publish them, for that, Open in Terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=270.23966666666666) [and then in here, write firebase deploy](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=272.2609999999999) [--only, then functions: staffAdded,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=277.9192499999999) [functions, so this will define all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=285.423) [functions, and press Enter. You need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=290.9037142857143)[wait for a couple of seconds for all these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=293.1916666666668) [functions to be published, and then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=295.63285714285723) [you can go to the Firebase project to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=297.37633333333343) [check all these functions. So in here, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=300.24044444444456) [see that all the functions were published successfully.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=1&mode=live&start=303.0893333333333)

### [Handling Cloud Firestore Event Data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live)

[On the last part, we created some new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=1.045) [functions, and then to these functions, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=3.075) [attached some event handlers. But what](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=5.771) [happens when any of the event handlers are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=8.575000000000001) [triggered. We are going to see on this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=12.702333333333332) [part how to handle the event data. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=14.838499999999996) [example, we want to read some data. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=17.926777777777776) [want to see how the data looked like](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=20.39288888888889) [before we changed them, for example. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=22.488) [next, we are going to see how we can write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=24.9363) [data back to Firebase Firestore, or you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=26.964166666666667) [can even write data back to Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=29.77325) [Realtime database. And then at the end, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=32.105666666666664) [are going to see how we can use wildcards](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=34.43380000000002) [and parameters when defining a path to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=37.33185714285715) [Firebase Firestore. So let us see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=41.77085714285713) [can handle the event data. In the project](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=46.255818181818164) [overview, go to the Functions menu item,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=49.97657142857144) [then next, go to the Dashboard tab, and in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=52.7945)[here, you are going to see the four new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=55.697) [functions that we created. So here we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=58.64811111111111) [the staffAdded, we have the changed, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=61.31966666666666) [deleted, and the updated. Now to trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=63.86566666666667) [these events, open the Database menu item.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=67.69300000000001) [From the two options in here, choose the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=71.147) [Cloud Firestore, and then add a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=73.44099999999999) [collection. We are going to name the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=76.39899999999996) [collection staff because we have created](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=78.24949999999995) [the event handlers on the staff collection](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=80.36714285714288) [and then click Next. I'll leave the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=84.01299999999999) [document ID to be automatically generated,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=87.11928571428572) [and then next, I'll just create a field](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=89.131) [named firstName and then assign a value,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=92.98357142857142) [my value. Then click the Save button. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=97.47428571428571) [the collection, the document, and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=101.4116) [document field were all created. Now let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=103.99514285714287) [us go to the functions one more time and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=107.14333333333332) [see what happens when we created a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=109.558) [document. So if I go to the other tab,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=111.94150000000005) [then go to the Logs tab, and then from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=114.05333333333336) [All functions drop-down, I'm going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=116.98874999999995) [choose the staffAdded, staffChanged,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=119.28266666666664) [Deleted, and Updated, and then click Done.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=121.50800000000001) [In here, you are going to see that we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=125.185) [multiple triggers executed. So the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=126.568) [one is that a staff member was changed and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=130.45350000000002) [this one is executed on the onWrite event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=132.98975000000002) [handler. Then we have the staffAdded](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=136.86433333333335) [because we added a staff member. Now let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=139.83699999999993) [us go to the staff document and update the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=143.09444444444446)[field. So change the my value to my value](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=145.29675000000003) [new and then click the Update button. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=148.9518) [that we updated a staff document, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=153.023) [expect this staffUpdated function to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=155.30085714285715) [executed so we are going to see the A](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=157.628) [staff member was updated. If we go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=159.9445999999999) [logs one more time, in here, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=164.55133333333333) [to see A staff member was updated. But](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=167.15911111111117) [what can we do with this data? Let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=170.04600000000002) [back to the Visual code, and then inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=173.63400000000007) [the staffUpdated method, write. We want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=176.08749999999995) [see the new value and the old one, so for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=180.80430000000004) [that we write const newValue, which means](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=183.93474999999998) [the value that we changed is equal to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=187.13925000000003) [snap.after, so after the data was changed,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=190.57075000000003) [and then .data. And then we can do the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=195.59325) [same to get the old value. So for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=198.3815) [write const oldValue is equal to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=200.99499999999995) [snap.before .data. So this is how you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=205.0165) [get the data before it was changed and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=208.48840000000007) [after it was changed. Now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=210.74300000000005) [console.log the data. For that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=214.23299999999998) [new and then -newValue and we do the same](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=219.32349999999997) [for the old value. For that, we just write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=223.50311111111117) [old and then oldValue. If you want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=227.3387777777778) [update an existing or create a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=230.9907777777778) [document, you write in here return and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=233.52724999999998) [then snap.after, so get the latest date](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=237.438875) [and then create a reference and set a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=243.101) [value. Now in here, we are going to define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=248.40766666666661) [that the value that we want to set is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=250.35277777777773) [going to be a comment and the value of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=252.129) [comment is going to be Document updated.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=255.8352222222223) [Let us define an additional property in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=259.887) [here to be merged is equal to true, which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=262.119) [means, just add this field in there if it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=265.85825) [does not exist, and if it exists, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=268.51922222222225) [simply update the content and then save](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=271.0992857142857) [the changes. Now since we made some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=274.69487499999997) [changes to this function, let us update](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=276.794) [this function. For that, we write firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=278.9166) [deploy, then --only, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=283.0211666666667) [functions:staffUpdated, and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=287.639) [Enter. So the function was successfully](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=293.4598) [updated. Let us go back to the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=296.74499999999995) [console and then go to the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=299.7834444444443) [Firestore and change the value of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=302.61557142857134) [first name to be just Ervis, or your first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=305.00911111111117) [name, and then click the Update button.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=308.18699999999995) [When we click the Update button, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=310.687) [staffUpdated function was executed and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=313.5195) [that function added in our document a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=316.637) [field named comment. If I change this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=319.366) [field, let us say we changed this field to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=322.258888888889) [something else and click the Update](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=324.0625714285714) [button, the same thing is going to happen,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=325.5338571428571) [so the comment is changed back to Document](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=327.6509999999999) [updated, or even if I delete this one,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=330.43820000000005) [I'll have the Document updated back. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=334.3023999999999) [this is how you can read the data and send](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=338.7103) [some data. When it comes to wildcards, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=341.8178571428571) [have already used them in our functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=344.4385555555556) [So in here, for example, we have defined](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=347.188) [that this event is going to be applied in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=348.236) [all the staff members of the staff](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=351.389) [collection. And if you want to expand this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=355.537375) [even more, you can add other wildcards. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=357.32622222222227) [let's say staffComment, for example, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=360.5045) [then you can even define that for each](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=364.3968888888889) [comment the commentID, which means that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=366.036) [inside this document, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=370.124)[create a collection, and that inside this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=371.701) [collection, we are going to have other](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=373.887) [different documents. Now this means that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=376.08) [we are going to trigger this function for all the changes inside the collection.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=2&mode=live&start=378.1933333333334)

### [Triggers on Realtime Database Changes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live)

[With cloud functions, you can handle](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=1.238) [events in Firebase Realtime database, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=3.3714285714285706) [same like in the Cloud Firestore with no](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=6.561999999999999) [need to update the client code. So Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=9.339142857142857) [functions, let us run database operations](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=13.231142857142858) [and then make sure that each database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=15.957857142857144) [change is proceeded individually. A](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=19.4158) [typical Firebase Realtime database will](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=23.567999999999998) [first wait for a change in a database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=26.033) [location, then triggers when an event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=28.556) [occurs, so for example, when we add some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=31.15) [new data, and then at the end, we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=33.719) [simply receive the data object that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=36.582499999999996) [contains a snapshot of the datastore in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=38.426) [that specific document. In Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=41.767) [Realtime database, we have different event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=45.0735)[handlers, the same like in the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=48.203599999999994) [Firestore. So we have the onWrite, we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=50.87171428571427) [the onCreate, onUpdate, and onDelete. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=53.637125) [us start by first creating all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=59.284875)[functions and then attaching to these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=61.188) [functions the event handlers. In your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=63.31) [project file, go inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=66.26871428571428) [folder, then in the index.js file, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=68.13766666666668) [going to create the new section. So before](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=71.48933333333335) [the Cloud Firestore triggers, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=74.304) [create the Realtime database triggers, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=76.40066666666667) [Realtime Database triggers. And for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=80.08999999999999) [Realtime database triggers, the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=84.1392) [SDK provides the functions.database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=86.639) [object. So let us start by creating the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=90.72166666666668) [first function. For that, write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=94.4527777777778) [exports.addText. So this is the name of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=99.23983333333332) [the function, and for this function to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=101.03200000000001) [defined or to be used as an event handler,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=103.324) [we are going to write functions.database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=105.88166666666666) [and then create a reference to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=109.00850000000003) [database. Now the reference to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=113.14020000000001) [database is going to be texts/ any text,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=114.55924999999998) [so I'll just write in here textId. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=118.2842222222222) [next, we need to define the event time. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=122.47199999999998) [for that, we write onCreate. This will](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=126.8445) [have two parameters, and then in here, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=129.91080000000002) [are going to define the snapshot and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=132.45122222222227) [context. Now for the moment, let us just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=135.91619999999998) [console.log just an info, so those two,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=140.56575) [and then in here open curly brackets and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=143.77500000000006) [write console.log and then text was added](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=147.23099999999997) [so text was added. And then we can do the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=155.09) [same for the other event handlers. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=159.659) [define the onCreate. Let us define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=163.16759999999996) [updated event handler, so for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=166.22128571428567) [write onUpdate, then change the name to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=169.33233333333328) [updateText and then text was updated. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=173.80600000000004) [let us do the same for the delete, so I'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=177.5563333333333) [just copy the text and paste it down here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=181.85411111111108) [change the name to deleteText and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=185.6825555555555) [onDelete, Text was deleted. And the last](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=190.71657142857143) [one is going to be onWrite, which is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=195.86733333333333) [triggered whenever something happens in a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=198.184) [document. So I'll just copy these lines](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=201.61675000000002) [and then paste them down here, change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=203.832) [name to changeText, and then let us be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=208.00449999999998) [more specific for the text. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=212.11828571428572) [define a name for the path in here. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=215.46381818181823) [texts and then /mytext, then change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=218.121875) [onDelete to onWrite and mytext was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=223.105) [changed. So we created all the realtime](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=231.45014285714294) [database trigger functions, now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=234.9872857142857) [publish all these functions to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=236.9735714285715) [Firebase project. For that, write Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=239.18633333333332) [deploy --only then functions:addText and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=243.52699999999996) [do the same for the other functions as](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=247.20814285714286) [well. And then press Enter. So here, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=256.0822) [see that we get a cannot read property ref](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=260.49010000000004) [of undefined and that's right because](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=262.7528571428571) [instead of data, we need to write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=265.044875) [database, and then change the value for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=267.669) [the other functions as well. Save the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=270.67024999999984) [changes and publish the functions one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=273.9395714285714) [time. So here we see that all the four functions were published successfully.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=3&mode=live&start=276.11400000000003)

### [Handling Realtime Database Event Data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live)

[On the last part, we created some triggers](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=1.196) [for the Firebase realtime database. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=3.509) [let us see how we can trigger these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=6.75325) [functions and how we can handle the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=8.538625)[realtime database event data. First of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=10.587) [all, let us go to the Firebase project.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=13.990400000000001) [And then in here, click on the Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=16.636) [menu item, and on the dashboard, you are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=18.921)[going to see that now we have the new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=22.230555555555554) [functions. So we have the addText,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=24.482) [changeText, deleteText, and the updateText](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=26.663) [at the bottom. And if you hover over the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=30.776)[icon on the right, you are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=33.143) [that this function is a database related](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=34.823) [function. If you go, for example, to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=38.60037500000001) [staffChanged, you are going to see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=40.860749999999996)[this function is a Cloud Firestore related](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=43.32416666666667) [function. Now let us go to the database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=47.00566666666667) [and trigger these functions, but before,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=49.63975000000001) [go to the Logs section. From the logs,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=52.99)[choose the addText, deleteText,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=58.476499999999994) [updateText, and the changeText functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=62.1436) [and click the Done button. Then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=69.60033333333334) [right-click on the Database menu item and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=73.57714285714285)[open it in a new tab. From the two options](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=76.24274999999999) [in here, choose the Realtime Database, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=79.69966666666667) [then next, over the project name, add a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=82.83857142857143) [child. We are going to name this one texts](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=85.1066) [and we are going to add our first text.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=88.28110000000001) [The name of the first text is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=93.43) [sms, and then inside the sms, add value,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=96.169) [and then in the Value section write Hello](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=103.489) [from Realtime Database. And then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=106.773) [Enter for these changes to be saved. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=112.58700000000002) [the changes were saved. Now let us go back](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=115.75100000000002) [to the Functions. So in here, we see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=119.25637499999999) [the addText method is being executed. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=122.0466666666667) [we go back to the database one more time](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=124.20899999999997) [and delete this text and then go back to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=127.68142857142858) [the logs, wait for a couple of seconds,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=132.35649999999993) [maybe up to 10 seconds, so in here we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=135.02500000000003) [gather results. It says that the text was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=138.74325) [deleted. Now in Visual Code, let us see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=143.87342857142852) [how we can handle the changes from here.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=146.55999999999997) [So in here, go inside the updateText](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=149.465) [function. The first thing that we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=153.78224999999998) [do is that we need to catch the value that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=155.23970000000006) [was changed, and then change this value to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=157.02449999999993) [uppercase, and after we have changed it to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=159.518) [uppercase, we need to store it back. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=162.256) [let us first get the value and change it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=165.05855555555556) [to uppercase. For that, we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=166.999625) [const uppercase is equal to snapshot.after](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=169.91266666666667) [the changes were made and then get all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=175.72833333333335) [values. From all the values, I want to get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=182.406) [the value property and then change this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=184.49122222222215) [value to uppercase and that's all. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=186.891) [that we have the data, we can send it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=189.75918181818182) [back. So for that, we write return](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=191.4888181818181) [snapshot.after, create a reference, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=194.4) [then inside this reference, create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=199.0478) [child, name this child property uppercase,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=201.29414285714284) [and then set the value to be uppercase.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=203.75411111111111) [Let us save the changes and publish this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=207.691) [function. So for that, in our terminal we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=209.78522222222225) [write firebase deploy --only and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=211.64037499999992) [functions: and then the name of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=217.60216666666673) [function which is updateText, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=220.12700000000004) [updateText, and press Enter. We see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=222.95533333333336) [the function was updated successfully. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=228.09087500000004) [let us go back to the Firebase console,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=229.7867777777778) [and in Firebase console, let us create it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=231.929) [one more time. So we write in here texts,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=234.04) [and inside texts, we are going to create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=238.815) [just a test, and then inside here, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=241.738) [going to define the properties. So I'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=245.70085714285716) [write value and this is a value. And then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=248.71111111111114) [press Enter for the changes to be saved.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=253.31679999999997) [Now the event handler, in our case, is in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=255.876) [the update. So far, we should not expect](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=258.62199999999996) [any result, but if we change the values,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=261.9455) [so in this case, we are going to trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=264.0211111111111) [the onUpdate event handler, we should see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=265.9184) [the uppercase property in here. So let me](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=269.29300000000006) [just change it to update it and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=272.5146) [Enter and here we are going to see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=275.22377777777774) [additional property uppercase. So if I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=278.22440000000006) [change this value again to just asd, here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=280.5103333333334) [we are going to see the uppercase, and you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=282.98224999999996) [can change the value property in here to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=286.0622857142857)[anything. You are going to see that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=288.9688000000001) [uppercase, it is going to change to the latest value.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=4&mode=live&start=291.1087499999999)

### [Working with Firebase Authentication](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live)

[You can trigger a Firebase function in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=1.251) [your response to the creation and deletion](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=3.5006250000000008) [of user accounts via Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=5.835428571428573) [authentication. For example, you can send](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=9.189400000000001) [a welcome email to the users that just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=11.233375000000002) [signed up. Or you can send a goodbye email](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=13.90914285714286) [to the users that just deleted their](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=16.54211111111111) [accounts. But which are some of the user](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=19.58616666666667)[creation events in Firebase functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=21.983249999999998) [Firebase accounts will trigger user](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=24.1634) [creation events for cloud functions when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=26.995) [user creates an email account and password](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=29.865285714285715)[or when a user signs in for the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=32.61155555555556) [time, but using a federated identity](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=36.017375) [provider. Also, an event is triggered when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=39.913624999999996) [the developer creates an account using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=42.54299999999999)[Firebase admin SDK or when a user signs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=44.664) [into a new anonymous authentication](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=48.932) [session for the first time. It is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=51.47199999999998) [important to know that a cloud functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=54.341499999999996) [event is not triggered when a user signs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=56.29371428571429) [in using a custom token. So now let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=59.78114285714286) [to the Visual Code project and create some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=64.02099999999999) [triggers to work with Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=66.5385)[authentication. In the top of index.js](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=69.55766666666666) [file, create a new section for the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=72.29811111111113) [authentication triggers. So in here, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=75.372) [Authentication triggers. The first thing,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=78.62066666666665) [as always, is going to be the creation of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=80.28766666666665) [the functions. So let us create two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=82.92459999999998) [functions in here by writing exports. the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=85.17655555555558) [function name, which is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=88.5552)[sendWelcomeEmail, and then in here, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=93.53533333333331) [= functions.auth, which stands for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=97.63442857142859) [authentication, and then .user. So we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=100.76671428571429) [going to handle all the user related](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=103.704125)[events. The first one that we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=106.36999999999999) [define is going to be onCreate, so when a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=109.03122222222227) [user is created, and then inside brackets,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=111.28519999999999) [write user. We are just going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=114.12342857142859)[console.log the user information, but you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=116.89662500000003) [can normally use this user data to send an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=118.99228571428571) [email to the user. And to send an email,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=122.18288888888887) [you just need to get the email. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=124.36577777777775) [example, const email is equal to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=126.4185) [user.email. And then next, let us just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=131.43149999999997) [write console.info New user and let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=134.02657142857137) [just display the user or change this from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=138.95457142857137) [New user to be New user created. Let us do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=141.790625) [the same for another event, so I'll just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=146.18537500000002) [copy these lines of code and then paste](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=148.11166666666665) [them down here. Instead of send a welcome](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=150.59500000000003) [email is going to be sendByEmail so when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=153.33188888888884) [the user deletes their account. And then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=157.17233333333334) [the event is going to be onDelete. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=161.9697777777778) [remove this line of code and change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=166.5262222222222) [info to User deleted and we can remove](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=169.62077777777776) [this user from here. Let us save the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=173.987) [changes and publish these functions to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=177.25200000000004) [Firebase project. So for that, we'll write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=179.14179999999996) [firebase deploy --only and then functions:](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=182.1448571428572) [will define the first functions so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=186.26228571428572) [WelcomeEmail and then, functions define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=191.279) [the second one, which is sendByeEmail, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=195.42520000000002) [then press Enter. So we see that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=200.79742857142858) [functions were published successfully. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=205.46333333333325) [let us go through the Firebase console. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=206.98575) [you go to the Dashboard tab from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=209.07733333333334) [Functions menu item, you're going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=212.552) [that now in here we have two new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=214.959) [functions. We have the sendByeEmail and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=217.65499999999992) [the sendWelcomeEmail. In here, let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=221.4398571428572) [to the Logs tab, and then from the All](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=224.4067777777777) [Functions drop-down, choose the ones that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=227.25128571428567) [we just created. So the sendBye and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=229.4821428571428) [sendWelcomeEmail, and then click the Done](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=233.98966666666672) [button. We see that currently don't have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=236.44600000000005) [any events, but let us trigger some of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=238.23214285714283) [them. So go to the Authentication tab, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=241.11075000000002) [to add a user in here, we need to first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=243.74433333333343) [set up the sign-in method, so for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=246.10536363636368) [click the Set up sign-in method button,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=247.91212500000006) [click over to the Email/Password, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=249.9085) [Enable, and then the Save button. So the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=254.96524999999997) [email and password were enabled. Now let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=259.26785714285717) [us go back to the Users tab, and in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=261.8684444444445) [let us create a user. I'll provide an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=265.461625) [email and then just a password, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=268.632625) [click the Add user button. Let us create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=272.150125) [another user and then define a password](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=275.28512499999994) [and I click the Add user button one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=277.25188888888886) [time. So now we have two users. Let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=280.6262222222222) [to our Functions logs and here we see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=284.7112) [we get some results. So for example, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=287.10433333333333) [see that New user was created, which is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=289.0712222222222) [the second one, but we also get a message](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=291.04449999999997) [for the other user too. When you scroll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=293.4859999999999) [down, you are going to see that the other](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=295.75857142857154) [user was created too. Let us go back to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=297.570222222222) [authentication one more time and delete](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=300.113) [the user. So I'll just delete the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=302.6134999999999) [one, delete account, and then click the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=305.5667142857144) [Delete button. So the user was deleted. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=309.2642499999999) [I go back to the functions and wait for a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=313.17130000000003) [couple of seconds, maybe up to 10 seconds,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=315.26025) [and in here, we are going to see the user deleted message.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=5&mode=live&start=317.3181111111111)

### [Triggers on Cloud Storage Changes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live)

[You can trigger a Firebase function in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=1.112) [response to uploading, updating, or](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=3.372) [deleting of files and folders in Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=6.384555555555556) [storage. To create a function that handles](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=9.895444444444442) [the cloud storage events, we can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=11.939750000000002) [functions.storage. And Cloud storage](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=15.5985) [supports different events. It supports the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=18.802499999999995) [event onArchive and this event is only](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=21.83714285714286)[sent when a bucket has enabled the object](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=24.140875) [versioning. Also, it supports the onDelete](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=27.5685) [and it is sent when an object has been](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=30.031875000000003) [deleted permanently. Another event that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=33.76049999999999) [Cloud storage supports is the onFinalize](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=35.888999999999996) [and this event is triggered when a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=38.739571428571416) [object is successfully created in the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=42.57957142857144) [bucket. And the last one is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=45.373)[onMetadataUpdate and this is sent when the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=48.76428571428573) [metadata of an existing object changes. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=50.774000000000015) [now let us see in action how we can create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=54.4417) [different functions for these event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=56.82542857142857) [handlers. And for that, let us go to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=59.75757142857142) [Visual Code project. On the index.js file,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=62.90327272727274) [at the top of this file, let us create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=64.99811111111109) [new section and we are going to name this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=68.1536666666667) [section the Cloud storage triggers. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=70.67871428571426) [here let use start with the first one, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=76.208375) [onArchive. For that, we need to create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=78.62620000000001) [function. So we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=82.12999999999998) [exports.onArchive is equal to functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=87.33728571428571) [and we set it for the cloud storage we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=90.28300000000002) [use the functions.storage, storage, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=93.55700000000002) [then object, then we define the event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=96.58675) [handler onArchive. This is going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=98.944) [respond with an archiving object, so for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=101.395) [that, we write object and then here it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=104.23444444444443) [goes too. Now in here, we are not going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=107.38419999999999) [implement the complex logic because that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=110.21442857142857) [is not the intention of this course. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=112.173) [I'll just write in here console.info and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=114.71674999999999) [then we can just display in here the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=118.593)[onArchive storage. Let us do the same for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=121.33166666666666) [the other handler, so for that, I'll just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=124.60899999999998) [copy the Line 6 to 8, paste it down here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=126.36300000000001) [and change the onArchive to onDelete, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=130.24312500000008) [we change the handler to be onDelete, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=134.00385714285716) [we change the text as well to be onDelete](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=137.44825000000003) [storage. Let us do the same for the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=143.1044285714286) [onFinalize, so I paste it in here, then I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=145.96137499999995) [change the function name to be onFinalize,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=149.46100000000004) [then we change the handler to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=153.13) [onFinalize and then the text as well to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=156.47162499999996) [onFinalize storage. And there is one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=160.4346) [left, the onMetadataUpdate. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=163.62224999999995) [change the function name first to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=165.94933333333336) [onMetadataUpdate and then the handler as](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=167.824) [well to be onMetadataUpdate and let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=172.8) [change the text too. So we created four](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=175.813) [new functions, let us deploy these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=178.89300000000003) [functions. For that, we write firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=181.38420000000002) [deploy --only and then functions:onArchive](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=185.228) [and we do the same for the other functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=187.91285714285712) [as well. And then press Enter. We've seen](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=193.29628571428574) [here that from four functions, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=198.638) [onDelete function and onFinalize function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=200.2198) [were not deployed successfully. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=202.629) [deploy these functions one more time. For](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=206.09900000000002) [that, write in here firebase deploy --only](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=208.1682857142857) [and then define the onDelete and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=210.140625) [onFinalize functions, and then press Enter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=212.805) [and wait for a couple of seconds. Now that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=216.489) [these functions were deployed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=220.86633333333333) [successfully, let us go to the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=221.941) [console and see these functions in action.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=224.076) [So if you go to the Functions and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=226.737) [Dashboard tab, here you are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=228.529) [the four new functions that we just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=230.978) [created. So we have in here onArchive,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=233.4726250000001) [onDelete, onFinalize, and onMetadataUpdate](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=236.2632857142857) [function. If you hover on the icon on the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=239.87675000000002) [right, you're going to see that this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=242.57444444444454) [function is a cloud storage related](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=244.54733333333334) [function. Now let us go to the Storage](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=247.24925) [menu item and trigger these functions, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=250.28330000000003) [before we trigger the functions, let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=253.0606666666667) [to the Logs tab, and from all functions in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=255.31574999999995) [here, choose the newly created functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=258.71274999999986) [so onArchive, onDelete, onFinalize, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=261.251)[onMetadataUpdate. Then from the log](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=264.7896666666666) [levels, let us choose the Info, and now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=266.64050000000003) [let's go to the cloud storage. In here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=269.8106) [let us upload a file, so I'll just upload](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=273.7808) [an image. So now we expect the onFinalize](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=277.2715) [event handler to be triggered. Let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=279.71233333333333) [to the Log section, in here, you're going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=283.38466666666665) [to see that onFinalize storage is in here.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=285.82571428571424) [Let us go back to the storage. In here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=289.1472) [click over to the image and then scroll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=292.92344444444444) [down to the file location and click in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=295.4155) [here the Create new download URL. So this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=299.4014285714286) [will basically change the metadata of our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=303.9111428571428) [item. Let us go back to the logs and wait](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=307.08340000000004) [for maybe up to 10 seconds. In here, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=312.37775) [are going to see that the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=315.1033333333333) [onMetadataUpdate was triggered. Let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=317.01) [back to the storage one more time and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=320.8695) [delete this item. So for that, select the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=322.65324999999996) [item and then click the Delete button,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=325.85899999999987) [confirm it, and go back to the logs, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=328.80925) [we see that onDelete function was triggered.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=6&mode=live&start=333.0105)

### [Accessing Storage Object Attributes](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live)

[When working with cloud functions and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=1.275) [cloud storage, the cloud functions will](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=3.396428571428572) [expose a number of storage object](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=6.135714285714284) [attributes such as size and content type](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=8.575142857142856) [for the file that we update or for the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=11.215222222222224) [files that we upload. And on this part, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=14.912500000000003) [are going to learn which are the main](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=17.58422222222223) [object attributes and how we can see all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=19.51057142857143) [of them. So if we need them in the future,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=21.808857142857146) [we can use them. So let us see how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=24.294) [access the storage object attributes in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=28.082699999999996) [action, and for that, let us go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=30.483000000000004)[Visual Code project. In your index.js](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=34.162749999999996) [file, go to the onFinalize function. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=36.80400000000001) [inside here, we are going to read some of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=40.400777777777776) [the properties of the object that we get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=42.413444444444444) [in return when we upload a new file. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=44.769) [let us start with the fileBucket, for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=48.34457142857143) [example, because we want to know where the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=50.6825) [file is stored. For that, we write const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=52.66383333333333)[fileBucket is equal to object.bucket. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=56.04059999999999) [you want to get the file name or the file](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=60.2546) [path, then you can just write const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=62.678625) [filePath is equal to object.name, and if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=64.867) [you want to get the content type, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=69.46633333333332) [simply write some Content-Type and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=72.18885714285715) [change the object.name to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=75.56700000000001) [object.contentType. Now let us display](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=77.99549999999999) [these values to the users. So for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=80.0477777777778) [write console.info and then we create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=82.90549999999999) [three of them. So we display first the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=85.03980000000001) [fileBucket, so fileBucket - and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=87.89300000000003) [display the value of the fileBucket. We do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=90.58500000000004) [the same for the filePath and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=94.97439999999999) [ContentType. And if you want to see all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=98.22729999999994) [the properties of an object, you can write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=100.23199999999999) [in here console.log and then just object -](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=101.97474999999997) [and then simply display the object. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=108.17875) [I'll say the JSON deployed this function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=112.99642857142857) [so for that, we write firebase deploy](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=115.03614285714286) [--only, and then from the functions, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=117.16642857142857) [just define the onFinalize. So the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=120.75160000000001) [function was deployed successfully. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=125.61) [let us go back to the Firebase console in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=127.03633333333335) [the Storage menu item. Let us upload a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=129.5326) [file. So I'll just choose an image, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=133.7574) [once you upload the image, you are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=136.61933333333332) [to see that it is a png image file. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=138.25600000000006) [let us go to the Firebase functions. In](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=142.16912499999998) [the logs, you are going to see that for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=144.96630000000002) [the image that we just uploaded the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=146.571) [fileBucket is the project ID .appspot](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=148.652) [.com. Then we have the filePath to be the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=153.96199999999993) [name of the file, the content type is png](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=156.5894000000001) [image, and then here we can see which are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=159.73312500000003) [all the properties of the object. So here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=161.8359999999999) [we have the bucket, we have the contentDisposition, and much more.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=7&mode=live&start=163.80633333333333)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live)

[On this module, we talked about triggering](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=3.175) [and handling event data and we talked](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=6.214) [about different Firebase services. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=9.445374999999999) [started with the Cloud Firestore where we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=12.726428571428572) [talked about how to create event handlers](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=15.017714285714286) [and how to handle the data that come as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=17.153750000000002) [response. And if you want to learn more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=20.38125) [about Cloud Firestore, you can check out](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=21.96) [my course, Firebase Firestore: Getting](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=23.871) [Started. After Cloud Firestore, we talked](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=26.109750000000005) [about realtime database. We saw how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=29.897399999999998) [trigger an event and how we can send a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=32.761500000000005) [response back to the realtime database and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=34.971444444444444) [store the data there. Then next, we talked](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=37.166666666666664) [about Firebase authentication and how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=40.76133333333333) [set up triggers when we create or delete a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=42.99671428571428) [user. And then at the end of this module,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=46.92499999999999) [we talked about cloud storage. We talked](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=49.237) [about how we can trigger an event when we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=52.33977777777777) [upload a file, when we modify a file, or](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=54.38011111111111) [when we delete the file. We also saw which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=57.443857142857134) [were the main object properties that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=60.89749999999999) [get as a response when we trigger a cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=62.84937500000001) [storage event. So I hope you have had as](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=66.47366666666665) [much fun watching this course so far as I](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=69.09169999999995) [have had creating this, so see you on the next one.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=03c99b5e-fa2b-4081-95ed-11c39d64afba&clip=8&mode=live&start=71.60466666666669)

## [Writing Firebase Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live)

[Hi, and welcome to this module where we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=0) [are going to talk about writing Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=3.6995555555555555) [functions. We are going to start this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=8.110000000000001) [module by first talking about managing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=10.486)[functions. We are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=13.886) [deploying functions, deleting functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=16.377857142857142) [and modifying them, like for example, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=18.662) [function name, the region, or the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=20.972800000000003) [trigger. Next, we are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=24.685000000000002) [writing functions in TypeScript. So far,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=27.04774999999999) [we have written our functions using](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=30.307222222222222) [JavaScript. On this part, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=33.019888888888886) [see how we can use TypeScript instead of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=34.45129999999998) [JavaScript to write functions. Then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=37.20266666666666) [we are going to talk about simplifying](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=40.132) [asynchronous functions. We are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=42.25966666666667) [see how promises work and much more. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=44.74100000000001) [next, we are going to talk about retrying](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=46.541222222222224) [asynchronous functions, and at the end, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=49.36899999999999) [are going to talk about some tips and tricks.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=0&mode=live&start=51.3295)

### [Managing Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live)

[On this part, we are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=1.124) [managing functions in Firebase. So we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=3.542) [going to start by first learning how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=7.433) [publish a function, and then next, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=9.67) [going to see how we can delete a function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=12.395799999999998) [how we can modify a function, and then how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=14.460714285714285) [we can set up the runtime options. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=18.7163) [us start with the first one. Now we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=21.9055) [seen so far how we can publish a function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=24.993000000000002) [We have said that if you want to publish](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=27.412428571428567) [all the functions, we can simply use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=30.22500000000001) [firebase deploy --only functions. This](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=32.782000000000004) [means that we are going to publish all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=36.459375) [functions. If we don't want to publish all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=39.057750000000006) [the functions, we can choose the specific](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=41.833) [functions that we want to publish. For](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=44.17825) [that, all we have to do is that we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=46.79890909090909) [define the function's names. So in this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=49.2942) [case, let us say we have two functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=51.718) [the firstFN and the secondFN. To publish](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=53.85016666666667) [only these two functions, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=57.77666666666667) [functions, then colon, and then firstFN,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=60.3784) [we'll define the second one. It is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=63.66812499999999) [important to not have any space between](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=66.74674999999999) [the firstFN and the functions keyword.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=68.82499999999999) [Since we have already seen how to publish](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=72.353) [functions, let us start with the deleting](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=74.851) [functions. We can delete functions in a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=79.41762500000004) [Firebase project using two ways. We can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=81.65914285714283) [either remove the functions from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=84.91725) [index.js file and then deploy all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=86.364) [functions or we can use the Firebase CLI.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=89.258) [Let us see the first way. So from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=94.014) [index.js file, let us remove all the cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=96.94037499999999) [storage triggers. I will select all of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=101.1038) [them and then delete. Save the file, open](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=104.89511111111112) [the terminal, and then type the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=109.25133333333335) [deployed command, and once we press Enter,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=112.96283333333331) [we are going to see that we are being](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=116.168) [asked if we want to delete these four](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=117.64130000000006) [functions. And if you want to delete these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=121.05037499999996) [functions, you need to type Y in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=123.15899999999999) [which stands for yes or you can just press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=125.424) [Enter to ignore this message. We are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=128.108) [to delete this function, so for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=131.58157142857144) [typically Y and then press Enter. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=134.88819999999996) [see that all the functions were deleted](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=139.00500000000002) [successfully. Let us go through the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=141.90866666666665) [Firebase console and see the result. If we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=144.02175000000003) [go to the Firebase console in the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=146.5103333333333) [Functions menu item, we are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=149.17749999999998) [that the functions that we just deleted do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=151.33699999999996) [not exist anymore. So this is how you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=154.25128571428573) [delete the functions by removing them from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=157.68399999999994) [the index.js file prior to deployment. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=160.20857142857145) [if you want to delete a function using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=163.917) [Firebase CLI, for that, in your terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=166.2262) [write Firebase, and then functions:delete.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=169.97840000000002) [If you want to delete all the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=176.744) [that mention the specified name in all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=178.749) [regions, you can just write in here the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=181.521) [function name. So for example, I will just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=183.84166666666667) [write in here updateText. And if you want](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=186.96042857142857) [to delete more than one function, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=190.2978888888889) [simply put a space and then define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=192.59474999999998) [second function. And to delete functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=196.79120000000003) [that belong to a certain region, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=199.266) [just define the region here, region, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=201.20133333333334) [then us-central1 and then simply press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=205.857) [Enter. So we are deleting two functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=211.84499999999994) [the delete text and the object text from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=214.693) [the us-central region. Let us type y and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=217.385) [then press Enter. So we see that the two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=223.12637500000002) [functions were deleted successfully. Other](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=226.39171428571424) [than deploying a function or deleting a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=229.52614285714284)[function, it is possible to change the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=231.9767142857143) [function details. We are going to see on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=234.594) [this part how to change the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=236.80259999999996) [region, but you can change the same way](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=238.40242857142854)[the function name or the function trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=241.03649999999996) [and the steps that you need to follow are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=243.31874999999997) [the same. So first, we need to create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=246.43466666666663) [new function with different details. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=248.8412222222222) [next, you need to deploy the newly created](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=251.625875) [function, and at the end, you need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=253.86483333333334) [delete the previous function. It's](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=257.4721428571428) [important to know that for functions we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=260.10542857142855) [have four different regions. The first one](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=262.7072) [is the us-central, the second 1 is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=266.249) [us-east1, the third 1 is the europe-west1,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=269.5158888888889) [and the last 1 is the asia-northeast. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=272.14950000000005)[us see in action how we can change our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=275.5594285714286) [function details. In our index.js file,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=280.0552857142858) [let us change our date function. Copy this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=282.67099999999994) [function and then paste it down here.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=287.70466666666664)[First step, let us make all the necessary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=291.695) [changes in our function and let us start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=293.865) [with name. Let us define the date to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=296.5785) [dateNew. Then to change the region, after](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=299.6) [the https write .region and here we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=302.775375) [to define the new region. Let us define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=307.168) [the new region to be the Europe-west1, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=309.84600000000006) [let me write europe and then -west1. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=312.18466666666666) [you want to change the functions trigger,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=316.6331111111112) [you can do that by just replacing the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=320.0995) [onRequest with onCall, but we are not](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=323.34459999999996) [going to change the functions trigger for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=325.78650000000005) [this function. So now here we have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=328.07059999999996) [same function with different name and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=331.32033333333334) [different specifications. Next, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=334.78700000000003) [save all the changes and deploy this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=337.182625) [function. For that, go to the terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=339.216) [and in here, write Firebase deploy --only](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=340.9380000000001) [functions and then define the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=346.36600000000004) [name to be dateNew. So in here, now we see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=350.6980000000001) [that we get an error and the error says](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=354.08690909090916) [that functions.https .region is not a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=356.37420000000003) [function and that's right because instead](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=360.93750000000006) [of defining the region after the HTTPS, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=363.35833333333323) [need to define the region after the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=367.30244444444446) [functions. So let us remove that from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=369.8955555555556) [after the HTTPS and put it in here. Save](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=372.7760000000001) [the changes and publish the function one](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=375.8469999999999) [more time. Now that the function was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=379.56433333333337) [deployed successfully, we need to remove](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=382.1915000000001) [the old one. So for that, we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=384.24349999999987) [firebase functions:delete and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=388.1201249999998) [define the function name to be the date](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=391.16233333333344) [function. Confirm this action by typing y](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=394.8582857142857) [and then pressing Enter. So we see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=396.9742857142859) [the function was deleted successfully. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=401.70611111111106) [let us go to the Firebase console. If we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=403.774375) [go to the Firebase console, here we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=407.23699999999997) [the date function. Let us refresh the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=409.61250000000007) [browser, and here we see that instead of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=412.4193333333332) [the date function, we have the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=415.34299999999996) [dateNew and we see that the region is set](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=417.2775000000001) [to be the europe-west. Before we proceed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=420.3888888888889) [to the next part, let us see how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=422.8942857142858) [define some runtime options, like for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=425.55600000000004) [example, the timeout. For that, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=427.58799999999997) [sendWelcomeEmail function, and after the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=430.8666666666667) [functions, write .runWith. Inside here, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=434.9520000000001) [can define all the runtime options, like](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=438.693) [for example, we can define a timeout, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=441.07399999999996) [for that, let us write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=444.154) [timeoutSeconds and let us set the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=446.996) [timeoutSeconds to be 300. Now for this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=450.461) [change to be saved, you need to deploy the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=454.03299999999996) [sendWelcomeEmail and this is how you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=457.1144285714286) [manage the Firebase functions from the Firebase CLI.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=1&mode=live&start=459.2415000000001)

### [Writing Functions in Typescript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live)

[On this part, we are going to see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=1.27) [can use TypeScript in a cloud functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=3.711) [project. We are going to first see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=7.464749999999999) [can initialize a cloud functions project](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=9.648999999999996) [with TypeScript, and then next, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=11.718333333333337) [going to see how we can migrate an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=13.855000000000002) [existing JavaScript project to TypeScript.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=16.11014285714286) [But why should we use TypeScript instead](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=19.067) [of JavaScript? TypeScript supports the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=21.747999999999994) [latest JavaScript features, like for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=24.840599999999995) [example, the async await simplifying the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=27.404399999999995) [promise management. Also, a cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=31.046000000000003) [functions linter highlights the common](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=33.796) [problems while you are coding, and of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=36.26) [course, TypeScript supports type safety.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=40.031285714285715) [Type safety helps us avoid runtime errors](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=43.322) [in deployed functions. So let us first see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=47.02) [how we can initialize a new cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=51.0648888888889) [functions project with TypeScript. To](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=54.10342857142858) [create a new cloud functions project,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=56.64714285714285) [create a new directory, and then inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=59.594) [that directory, write firebase init](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=62.674) [command. And then from the options in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=66.09566666666665) [here, go to the functions, press the Space](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=68.41714285714289) [bar to select the functions. Then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=71.5514444444444) [press Enter. From the project list, choose](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=75.10000000000001) [a project, and then between the JavaScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=78.3015714285714) [and TypeScript, select the TypeScript.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=80.85733333333334) [Press Enter to use the TSLint. Press Enter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=85.315) [one more time to install the dependencies.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=89.69099999999999) [So now that everything was installed, if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=93.828) [you go to the functions folder, inside the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=95.86485714285715) [source folder, you are going to see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=98.37) [index.ts file and this is a TypeScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=100.6605) [file, which we can use to write TypeScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=103.022) [functions. And if you go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=106.10933333333332) [package.json file, here you are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=108.72474999999997) [see multiple scripts configured by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=110.63125) [default, like for example, the serve](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=112.12133333333333) [script, the shell script, the start, etc.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=114.27233333333334) [Let us navigate inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=116.78174999999999) [folder, so for that, we write cd](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=118.9445) [functions, which stands for change](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=121.055) [directory, and then inside here, write npm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=123.672) [run build. Our command will create a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=127.6755) [folder, which is the lib folder, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=131.59814285714285) [inside this folder, we are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=133.93525000000002) [the index.js file. So this command is used](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=136.5256666666666) [to basically convert the index.ts file](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=138.93628571428565) [into an index.js file. If we go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=142.22299999999998) [index.ts file and we uncommand this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=146.56777777777782) [function, then we save the changes and we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=148.59314285714282) [run the command one more time and we go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=151.18387500000003) [back to the index.js, here we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=154.84099999999995) [see the JavaScript version of our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=158.53) [TypeScript function. So this is how you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=161.73400000000004) [can create a new cloud functions project.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=164.50422222222215) [Now let us go to an existing JavaScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=167.241) [function and see how we can convert it to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=169.898) [a TypeScript one. Here we are going to use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=172.319) [the project that we used on the last part](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=175.372) [and you can find this project in your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=178.404) [exercise files. In the project directory,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=180.93200000000002) [run the Firebase init functions command,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=184.45657142857144) [so firebase init functions. Then to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=188.23142857142855) [proceed, press Enter, and when asked which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=192.2048) [language you want to use to write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=194.81949999999995) [functions, choose TypeScript, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=197.344) [press Enter. Press Enter one more time.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=199.8095) [Here, you are being asked if you want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=203.553) [override the package.json file and we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=205.374) [don't want to override this file, so we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=208.0894285714285) [are going to press Enter. So now we see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=210.51366666666667) [that three new files were created, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=212.78033333333337) [tslint file, the tsconfig, and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=215.8341428571428) [index.ts file inside the source folder.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=219.68271428571427) [Next, let us go to the tsconfig.json file,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=223.19233333333332) [and in here, let us set the compiler](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=226.85625000000002) [options to allow JavaScript. So for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=230.70600000000002) [write in here allowJs to true. Now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=234.8366666666667) [go to the package.json file, and in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=239.47025) [let us set the main. So for that, write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=242.396) [here main and then define the main to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=245.4876666666666) [lib folder, and then inside this folder,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=249.0671428571428) [we want to have the index.js file, which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=250.9915) [is going to be as the file that we used to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=253.40425000000002) [translate our TypeScript code to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=257.06155555555557) [JavaScript. Next, let us define the build](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=260.26240000000007) [section. So for that, we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=263.12742857142854) [build and then we paste these commands.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=265.6604444444445) [Now you can find this command in your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=268.624) [exercise files as well. Before we test our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=270.477) [application, we need to add the TypeScript](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=275.18799999999993) [and TSLint as development dependencies.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=277.98800000000006) [Let us first navigate inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=282.179) [folder, so write in here cd functions and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=284.526) [then write npm install --save-dev, which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=288.476) [stands for development, typescript. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=294.85519999999997) [do the same for the TSLint, so I'll simply](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=299.70574999999997) [write in here tslint. If we now go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=303.00585714285717)[package.json file, inside here, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=307.5242500000001) [going to see a new section named](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=308.9811111111112) [devDependencies. Now let us run in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=311.964) [the npm run and then the build command. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=314.91300000000007)[are going to see that this command is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=318.2169999999999) [going to create a new folder named lib,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=321.27966666666657) [and inside the lib folder, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=324.07528571428577) [see the index.js file, which is used as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=327.078125)[placeholder to translate all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=330.14149999999995) [TypeScript files to JavaScript ones. So if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=332.5588) [we go to the index.ts file and remove the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=335.0959999999999) [comments from this function and we run the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=338.66042857142844)[same command one more time, in our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=341.74775) [index.js file, we are going to see our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=345.53271428571423) [function. So now you can get all your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=348.8547142857144) [index.js functions and translate them to TypeScript functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=2&mode=live&start=351.45087499999994)

### [Simplifying Asynchronous Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live)

[When working with the Firebase functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=1.224) [it is important to manage the lifecycle of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=3.908) [a function just to make sure it resolves](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=6.5939000000000005) [properly. When working with functions, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=10.5691) [need to know how to terminate them and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=12.713142857142861) [function needs to be terminated only when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=16.101125) [all the work is done. But how can we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=18.625500000000002) [terminate different types of cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=22.327750000000005) [functions. When we have an HTTP trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=25.288600000000006) [function, they are all terminated after](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=27.8635) [you send the response at the end. And when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=30.470333333333336) [you work with background trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=33.475625000000015) [functions, then you can terminate them by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=34.963) [returning a promise, and the promise](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=38.24100000000001) [represents some asynchronous work that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=41.15919999999999) [should eventually complete. A promise has](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=43.7375) [three states. When a promise is being](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=47.18939999999999) [processed, then it is in the pending](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=49.916000000000004) [state. And from the pending state, we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=52.49585714285714) [two possible outcomes. It can be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=56.2102) [fulfilled, which is when the work](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=58.96233333333334) [completes successfully, of if there is an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=60.809) [error, the promise becomes rejected. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=63.124) [let us see in action how we can create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=67.2528) [function and handle all these states](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=70.40575) [properly. I'm going to use the new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=73.89024999999997) [application project that we created on the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=75.89985714285717) [last part and you can get the same project](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=78.17949999999999) [from the exercise files. To create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=80.61700000000003) [function in TypeScript, I'm going to write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=83.24485714285717) [export, then const, and then I'm going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=85.6175714285714) [name this function getStudent. This](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=88.11612500000004) [function is going to be an HTTPS function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=92.6435) [which is going to be executed on request.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=95.76811111111111) [And in here, we pass two parameters, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=99.457)[request and the response right in here it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=102.29037500000001) [goes to. And then inside the curly](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=107.995375) [brackets, we are going to write all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=110.28) [code. Now in here, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=113.256) [interact with the Cloud Firestore. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=114.66477777777774) [that, let us import the Firebase admin. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=117.32911111111112) [write in here import all as admin from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=120.46333333333334) [Firebase admin and then initialize it by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=126.19785714285713)[writing admin.initializeApp. Now let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=131.016) [inside the getStudent method, and in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=134.67149999999998) [write admin.firestore to create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=137.73649999999998) [reference to the firestore.doc, which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=140.50466666666665)[stands for document because we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=143.25900000000001) [create a reference to a document in the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=145.08890000000002) [firestore. The document is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=148.1601000000001) [within the students collection, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=149.84449999999995) [the document name is going to be etrupja.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=152.24133333333336) [You can name your document whatever you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=155.715) [want because you are going to create the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=157.7) [document later. So whenever we trigger a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=160.06571428571428) [get request on this document, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=163.64783333333332) [to get response. It will be either a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=167.13400000000001) [success or a failure. And whenever the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=170.53155555555563) [request is successful, we want to get the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=173.68650000000002) [result. So for that, we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=176.23149999999995) [.then and then let us get the response of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=178.8465555555556) [this request. So for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=181.6823333333334) [snapshot that it goes to. Now that we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=184.93900000000002) [the result, we can terminate this function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=188.49433333333332) [successfully. So for that, we write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=191.72383333333337) [here response.send and we want to send a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=195.39649999999995) [response in the JSON format, so for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=198.16820000000004) [we write snapshot.data. But what if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=202.06871428571426) [something goes wrong with our function, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=204.84612499999997) [if an error is thrown or the connection](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=206.62033333333335) [doesn't work. In this case, we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=209.08566666666667) [catch an error and then send the response](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=211.12820000000005) [to terminate our function. So for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=213.65249999999997) [write in here .catch and then in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=216.84222222222226) [error that goes to. Let us terminate the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=220.4628571428571) [function the same way, so response.status](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=223.96449999999996) [500 .send Something went wrong! This is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=227.9152857142857) [all you have to do in here. Now let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=235.55522222222223)[to Firebase console and create this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=238.40649999999997) [document. Inside your project, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=240.88233333333332) [Database menu item and then choose](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=243.74699999999996) [Firestore. Inside the Firestore, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=246.56950000000006) [add a new collection named students, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=248.56762499999994) [click Next, provide the document ID to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=252.676) [etrupja or your document id and then add a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=256.383) [field in here, for example, FirstName of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=259.5334444444444) [type string. Let us add one more, put in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=264.3358571428572) [LastName and press the Save button. So now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=269.5633333333334) [we have the collection, we have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=273.00122222222217) [document, and we have the document fields.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=274.5) [Let us go back to the Visual Code. To run](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=277.387) [the functions locally, write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=280.66800000000006) [firebase serve. So we see that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=283.75860000000006) [functions were started successfully. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=286.8703333333333) [us copy this link, go to any browser of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=288.5197777777778) [your choice, paste the URL in here and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=292.235) [then press Enter. So in here, we are going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=295.391) [to see the results of this document in JSON format.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=3&mode=live&start=297.48960000000005)

### [Retrying Asynchronous Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live)

[On this part, we are going to see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=1.094) [can request the asynchronous background](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=3.306) [functions to retry on failure. By default,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=5.635) [without the retries enabled, a function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=10.533999999999999) [will either succeed or fail in the first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=13.44775) [try. So this means that the function is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=16.57025) [going to executed only one time. And when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=19.196) [a function is executed only one time, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=22.668) [success is not guaranteed. When you enable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=25.52566666666667) [the retries on a background function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=28.714250000000003) [however, the semantic change to at least](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=30.435499999999998) [once, which means that the function is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=33.83714285714286) [going to be executed until it is executed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=36.229749999999996) [at least one time successfully. But which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=39.800000000000004) [are some of the main reasons why functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=43.340999999999994) [fail? One of the main reasons is that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=45.968428571428575) [function has a bug and the bug may cause a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=49.45166666666667) [function to fail. Another reason would be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=53.045625) [when the function cannot reach an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=55.17600000000001) [endpoint. So for example, you ask for a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=57.1635) [document which does not exist. Another](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=59.35799999999998) [case would be when you intentionally throw](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=61.58016666666667) [an exception or when you return a rejected](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=63.586)[promise. Now let us see in action how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=67.60360000000003) [can enable retry in asynchronous](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=70.44060000000002) [functions. For that, let us go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=73.40475) [console.cloud .google .com. In your URL,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=77.90899999999996) [write console.cloud .google .com. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=80.73) [from the drop-down in here, choose your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=85.67566666666667) [project. So go to the All tab and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=88.061) [choose your project. Then from the menu on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=91.16363636363639)[the left, scroll down to the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=93.74371428571428) [Functions. Click this menu item, and in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=96.84750000000001) [here, you see all the functions, and in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=98.94699999999997) [here, let us choose the function, but you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=101.906375) [need to make sure that the Trigger field](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=104.39800000000001) [is set to a background function trigger](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=107.01466666666667) [type, so just for example, cloud storage.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=109.33959999999998) [So let us scroll down in here and let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=112.262) [choose the staffDeleted function. Click on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=115.836) [this function, and then click the Edit](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=118.77674999999999) [button, then scroll down to the More](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=120.98175) [button, click this button here, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=124.095) [scroll down to the bottom of this page.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=129.29777777777778) [Then check the Retry on failure checkbox.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=132.68) [And then next, save the changes for this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=137.145) [function. So this is how you can enable](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=140.31566666666666) [the retry on failure in an asynchronous background function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=4&mode=live&start=142.92259999999996)

### [Tips and Tricks](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live)

[On this part, we are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=1.142) [the best practices for designing,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=3.696) [implementing, testing, and deploying cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=6.646) [functions. We are going to first start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=10.264333333333333)[talking about the best practices for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=12.529999999999998) [designing and implementing cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=14.642666666666667) [functions. Then next, we are going to talk](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=17.082666666666668) [about tools to implement, to test, and to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=19.10155555555556)[interact with cloud functions. And then at](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=21.90228571428572) [the end, we are going to talk about which](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=24.579400000000003) [are the best practices for optimizing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=26.506333333333334) [performance. So let us start with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=29.56966666666667)[first one, which is correctness. Now when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=31.681) [writing Firebase functions, you need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=35.784400000000005) [make sure that you write idempotent](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=38.09242857142858) [functions, which means that your function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=40.04033333333333) [should produce the same result, even](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=42.618333333333354) [though they are called multiple times. You](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=44.64271428571429) [should also always delete the temporary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=48.42771428571428) [files because the local disk storage in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=50.748) [the temporary directory is an in-memory](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=54.12900000000002) [file system and failing to delete these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=57.35200000000001) [temporary files may eventually lead to an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=60.53) [out-of-memory error. Before you deploy](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=63.539) [your functions to your Firebase project,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=66.40485714285714) [it's important to make sure that your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=68.115) [functions work as expected. So for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=71.38285714285716) [before you deploy them, create a local](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=74.44757142857141) [development environment and test them and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=77.20640000000002) [you can test the Firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=79.6508888888889) [locally by using different libraries. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=82.06766666666667) [we are going to see on the next part how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=85.1243) [we can test our Firebase functions locally](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=86.82642857142858) [before we deploy them to Firebase project.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=89.32137499999999) [Cloud functions does not allow the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=93.244) [outbound connections on port 25, so this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=95.91142857142853) [means that we cannot create non-secure](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=99.18575000000001) [connections to an SMTP Server. If you want](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=101.85566666666668) [to send emails from your Firebase project,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=105.167)[then you can use the Sendgrid and you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=107.68357142857143) [find more information about this tool by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=111.10475000000001) [going to sendgrid.com. Because functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=115.35262500000002) [are status, the execution environment is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=118.412) [often initialized from scratch, and if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=121.47860000000001) [your function imports modules, then these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=123.94166666666663) [modules will add some latency to your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=127.15800000000002) [function. You can reduce this latency, as](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=129.96014285714287) [well as the time needed to deploy your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=132.3305) [function by loading the dependencies](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=135.053) [correctly and not loading the ones that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=137.20316666666668) [you don't use. Also, if you want to reuse](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=140.53040000000001) [objects throughout your application, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=144.41128571428578) [can use the global variables, but when you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=146.0693333333333) [use global variables, make sure that you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=148.88271428571437) [use lazy initialization. If you initialize](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=151.332) [variables in global scope, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=154.75449999999995) [initialization code will always be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=156.98766666666668) [executed increasing your functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=159.90800000000002) [latency. So this means that if some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=162.48800000000006) [objects are not used in all code paths,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=165.00500000000008) [then consider initializing them lazily on demand.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=5&mode=live&start=167.653)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live)

[We started this module by talking about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=0.883) [managing functions, and on this part, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=3.698) [talked about renaming a function changing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=6.3595) [the functions region and changing the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=8.783833333333332) [functions trigger type. Then next, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=11.47025) [talked about writing functions in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=13.938) [TypeScript. We started by configuring](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=16.092333333333332) [TypeScript in a new NT Firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=18.387999999999995) [project. And then later, we learned how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=21.610000000000007) [migrate an existing JavaScript project to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=24.427124999999993) [TypeScript. Next, we learned how to work](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=27.75966666666666) [with asynchronous functions. So we learned](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=29.654) [how to simplify these functions and how to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=32.466142857142856) [configure the retry on failure. Then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=35.26144444444444) [we learned about some tips and tricks,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=37.954750000000004)[correctness, tools, and performance when it comes to Firebase functions.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=6bafd59d-7d3f-4811-8ee1-1789e06ea960&clip=6&mode=live&start=40.04933333333334)

## [Testing Firebase Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live)

[Hi, and welcome to this module where we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=0) [are going to talk about testing Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=3.879111111111111) [functions. But what are we going to learn](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=7.207142857142856) [on this module? We are going to see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=9.93975) [can run functions locally by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=11.809111111111113) [command line and the Cloud Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=14.101714285714289) [shell. Then next, we are going to learn](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=16.8872) [about unit testing functions. We will](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=19.053125) [start with setting up the testing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=21.67875) [environment, then next, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=23.322) [see how we can test the non-HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=25.416750000000004) [functions, and at the end, how to test the HTTP functions. So let's get started.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=0&mode=live&start=28.302857142857135)

### [Running Functions Locally](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live)

[Before we deploy our functions to Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=0.799) [hosting, it is a best practice to run the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=3.249) [functions locally and test if everything](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=5.985) [works as expected. And to test functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=8.633) [locally, we can either use Cloud Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=12.534999999999998) [shell or we can use the Firebase CLI. With](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=15.16625) [Firebase CLI, we can test only the HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=19.236375) [functions, but with Cloud Functions shell,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=21.807666666666666) [we can test all kind of functions. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=24.845000000000002) [can test the HTTP functions and we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=28.186444444444444) [test the trigger functions as well. To run](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=31.056428571428572) [functions locally, we can use the firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=34.46225) [serve command. But let us go to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=37.172333333333334) [project and see how we can run functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=40.291909090909094) [locally in action. During this module, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=42.938500000000005) [are going to use a new project, which you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=45.406888888888886) [can find in your exercise files. Inside](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=47.85314285714285) [this project, you can find two functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=51.28557142857143) [the addToDoItem function and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=54.288) [toUpperCase function. The first function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=57.629) [is an HTTP function because by using an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=60.148142857142865) [HTTP function, we can add an item to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=63.451666666666675) [todoitems reference, and the other one is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=66.450875) [a non-HTTP function because it's just a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=68.65850000000003) [database trigger which gets triggered when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=71.29250000000002) [we create a new item in the todoitems](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=73.48557142857142) [reference. Now we said that to run all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=76.94671428571431)[HTTP functions locally, we can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=80.10622222222219) [firebase serve command. So for that in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=82.176) [your terminal, write firebase serve. So in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=85.18466666666666) [here, we are going to see only the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=89.25899999999999)[addTodoItem function, which is an HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=90.463) [function. We can also run the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=94.43328571428569) [functions locally by using the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=96.52900000000002) [Functions shell. So for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=98.91157142857146)[firebase functions and then :shell. Press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=101.75185714285718) [Enter, and in here, we're going to see all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=104.77000000000002) [the functions that you have within the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=108.04875000000003) [index.js file. Let us test the realtime](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=111.71366666666667)[database function, which is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=114.76928571428573) [toUpperCase function and to invoke a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=116.66428571428573) [realtime database function, you can just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=119.1428) [write in here the name of the function so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=121.0661)[toUpperCase and then provide a parameter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=124.27024999999999) [So I'll just write in here first task. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=128.534) [us press Enter and you're going to get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=133.10544444444446) [feedback so successfully invoke the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=136.021)[function. Then you are going to get this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=139.23183333333333) [log result, which is this one in here and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=141.63800000000006) [then execution time. Let us go to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=146.348) [database. In our database, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=149.90099999999998)[see that a todoitems reference was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=151.50560000000004) [created, and inside here, we have a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=153.26749999999998) [pushId7 and then the uppercase is First](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=156.41200000000003) [Task. So the text that we entered was](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=159.95039999999995)[immediately converted to uppercase and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=162.99625000000006) [stored to an uppercase field. Let us test](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=165.26999999999998) [this function again. So let us write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=168.734) [here second task, so second task and press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=172.30337500000007) [Enter. We are going to see a second task](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=175.9011666666666) [in here. Let us test it again, third task,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=178.54400000000007) [and you're going to see in here the third](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=183.75) [task. So this is all for this part. On the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=187.42200000000014) [next one, we are going to talk about setting up the testing environment.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=1&mode=live&start=190.68999999999997)

### [Setting up Testing Environment](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live)

[On the last part, we learned how to run](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=1.267) [functions locally by using the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=3.63) [CLI and the Cloud Functions shell. On this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=6.127) [part, we are going to learn how to set up](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=10.0358) [testing environment for Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=13.103857142857144) [functions. So let's get started. To get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=15.521571428571434) [started with the Firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=19.566) [testing, we are going to install both the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=21.221) [Firebase functions test and the Mocha,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=23.749) [which is a testing framework. For that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=26.594) [let us navigate inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=29.41433333333333) [folder. So write in here, cd functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=32.126333333333335) [which stands for change directory to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=34.791) [functions. Now to install the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=38.5572857142857) [functions test, we are going to write npm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=41.75285714285716) [install, then --save-dev, which stands for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=46.156285714285715) [development, firebase-functions-test. The](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=50.701) [first library was installed. Now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=59.5102) [install the Mocha framework. So for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=61.89128571428571) [we write mocha and then press Enter. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=64.8636) [the packages were installed successfully.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=69.4095) [Now let us go to the package.json file,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=71.342) [and in this file, we are going to see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=74.302) [we have a separate section, the section](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=76.401)[devDependencies, and inside this section,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=79.21533333333333) [we have the firebase-functions-test and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=80.84942857142856) [the Mocha framework. Now scroll up to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=83.2114) [Scripts section. Inside this section, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=87.74171428571428) [are going to define a new command for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=89.76149999999998) [testing. And to define a new command, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=92.58099999999997) [need to write in here test, this is a name](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=94.12166666666663) [of the command, and then mocha --reporter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=96.14220000000003) [spec. Next, we need to create a test](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=106.08300000000003) [folder inside the functions folder. So go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=110.24000000000002) [to the functions folder, click the create](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=113.33200000000001) [new folder icon, and then name this folder](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=115.91749999999999) [test. Inside this file, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=119.90100000000001) [add a JavaScript File, let us name this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=122.11055555555554) [file index.test .js, and this is a file](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=124.48814285714288) [that we are going to use to write unit](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=128.44188888888888) [tests. And to run the unit tests that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=132.022) [are going to define in this file, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=134.2346) [going to use the command that we defined](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=136.13899999999992) [in the package.json file, which is the npm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=137.81842857142857) [run test. Let us test this. For that, in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=141.32399999999996) [the terminal write npm run and then test.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=144.70066666666668) [And in here, we see that we get an error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=151.906) [which says that it cannot find the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=153.312) [package.json file and that's right because](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=155.242) [we are running this command from within](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=158.463) [the staff project test folder, but we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=160.47112500000006) [to run this command from within the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=162.91312499999998) [functions folder. So let us go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=165.84149999999994) [functions folder by typing cd functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=168.31233333333327) [and then execute the command one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=171.2234285714286) [time, so npm run test, and then press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=175.63074999999998) [Enter. So in here, we see that 0 is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=181.03300000000002) [passing and that's right because we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=183.74840000000012) [not defined any function in the index.ts](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=185.24014285714293) [.js file. There are two ways to use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=189.03771428571426) [firebase-functions-test. We can use it on](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=192.114) [the offline mode or on the online mode.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=195.60249999999996) [Now when using it on the online mode, it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=197.92533333333333) [means that we write tests that interact](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=201.05625000000003) [with a Firebase project dedicated to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=203.45000000000002) [testing. So the database writes or user](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=206.32933333333335) [creates, etc what actually happened, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=209.1892857142857) [not in your real project so you don't mess](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=211.68975000000006) [up with the real data. And the offline](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=214.66275000000002) [mode is used when you want to write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=217.61724999999998) [offline unit test with no side effects. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=220.09375) [this means that any method calls that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=223.281875) [interact with a Firebase product, for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=225.717) [example, writing to a database or creating](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=227.84214285714287) [a user, needs to be stopped. Now before we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=229.965) [go to the next part, let us see how we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=233.05199999999996) [initialize the SDK in offline and online](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=236.06179999999995) [mode. To initialize the SDK in offline](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=239.17425) [mode, you simply need to write at the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=242.93685714285718) [testing file const test is equal to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=245.1701250000001) [require, and in the require method, define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=249.63657142857136) [the Firebase-functions-test. But when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=253.64666666666668) [initializing the SDK in online mode, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=257.37628571428576) [need to pass some parameters to this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=260.19775) [requirement and the first one is going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=262.20687499999997) [be the project configuration. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=264.8528) [write in here const config is equal to,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=267.89700000000005) [pop on the curly bracket, and go to your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=270.9658571428572) [Firebase project. Then in here, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=275.27966666666657) [project overview, and then next, click the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=278.85099999999994) [Add to the web application button. Copy](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=280.71200000000005) [the values within the config and go back](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=284.882625) [to your project. Paste the values in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=288.10749999999996) [and keep only the database URL, the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=290.24944444444446) [projectId, and the storage bucket. Now we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=293.4225) [need to pass the config as a parameter in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=296.9124444444445) [the requirement. So for that, write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=299.52750000000003) [here config. The second parameter is going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=302.7617142857144) [to be a key. To get this key, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=305.33088888888904)[console.cloud .google .com /iam-](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=308.278) [admin/serviceaccount and then press Enter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=314.487) [And then in here, select the first option](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=322.552) [which says app engine default service](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=324.741)[account. On the actions on the right,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=328.16357142857146) [click the three dots and then Create key.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=330.456) [From the key type, choose the JSON type](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=334.652) [and then click the Create button. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=336.6324444444444) [see that the JSON file was downloaded and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=339.4463333333333) [this is what you can find inside this JSON](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=341.567875) [file. Let us copy this content and go back](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=344.0135) [to our application. Inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=347.52549999999997) [folder, let us create a new file named](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=349.9101428571429) [account key, so write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=353.36566666666664) [accountKey.json, and then paste the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=357.68039999999996) [content in here. Save the changes and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=360.2024285714285) [go back to your testing file. The second](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=362.5356250000001) [parameter is going to be passed as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=365.78014285714283) [reference to this file. So for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=368.6869999999999) [write in here, inside single quotes,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=370.85385714285707)[.accountKey .json. Save the changes and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=375.47240000000005) [this is how you can initialize the SDK in offline and online mode.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=2&mode=live&start=378.9744444444444)

### [Testing Background (Non-HTTP) Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live)

[Now that we have set up the testing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=1.388) [environment, we are ready to test our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=3.149) [functions and we are going to start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=5.845) [testing by testing a background non-HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=7.900375000000003)[function. The process for testing non-HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=11.404833333333332) [functions goes through a couple of steps.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=15.121166666666667) [So first, we need to wrap the function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=18.294) [that we would like to test by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=20.601555555555553) [test.wrap method. Then next, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=23.367666666666665) [construct some testing data. Then next, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=26.436999999999994) [need to invoke the wrap function with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=28.974500000000003) [test data that we constructed for any](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=31.73150000000001) [event or for any change that we would like](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=34.06549999999999) [to specify. And then at the end of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=37.08724999999998) [process, we need to check the result. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=39.21512500000001) [we need to make assertions about the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=41.72411111111111) [behavior. So let's get started with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=44.461888888888865) [first function and see how we can test](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=46.518428571428565) [background non-HTTP function. In our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=49.391) [functions file, which is the index.js](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=53.68585714285714) [file, we have two functions. So we have an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=55.44433333333333) [HTTPS function and the non-HTTP function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=59.77550000000001) [So we are going to start with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=61.84971428571428) [toUpperCase function. For that, let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=65.1944) [to the index.ts .js file. Before we start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=68.34049999999999) [implementing the test case, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=71.50642857142856) [first import all the functions so then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=74.012625) [can wrap up the function and test it. For](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=76.54025000000001) [that, let us write in here const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=79.00177777777779) [myFunctions is equal to require, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=82.12385714285713) [in here, define the path to your functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=86.73150000000001) [file, so.. / index.js, in this case. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=90.238) [next, we need to import two more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=95.0597777777778) [libraries, the sinon library and the chai](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=97.27942857142858) [one. The sinon library is used to stop the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=100.10222222222221) [methods and the chai is used for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=103.273) [assertions. So let us go to the terminal,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=106.3565) [do these names, go inside the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=109.181) [folder, and then in here, write npm](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=112.66) [install --save-dev and then define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=118.74650000000001) [name to be chai. We do the same for the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=122.11655555555555) [sinon, so we write in here sinon, press](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=125.38180000000003) [Enter. So the packages were installed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=131.305) [successfully. Now let us use these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=134.52833333333336)[libraries. For that, write in here const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=136.24816666666663) [sinon is equal to require and then sinon.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=138.83675) [Do the same for the chai. So for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=144.872) [write in here chai and then require chai,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=147.4226666666667) [but out of chai, let us create an assert.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=149.76933333333335) [So const assert is equal is to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=152.906) [chai.assert. So that's all you need to do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=159.65225000000004) [to now start writing your function. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=162.2365000000001) [said that we are going to test a non-HTTPS](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=164.622375) [function, so for that, let us start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=166.904) [creating this function. Write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=170.48800000000003) [describe, and then the first parameter is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=172.99237499999998) [going to be the title of this function so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=175.48522222222223) [toUpperCase. And now we need to start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=179.12466666666668) [implementing this function. So goes to, no](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=182.00966666666662) [need to pass any parameters, and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=184.55399999999997) [need to define what this function should](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=187.33225) [do. Now in here, let us define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=189.73933333333332) [specification of this test case. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=191.933) [that, we write it, what should it do, it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=194.88366666666667) [should upper case the input and write it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=198.3995) [to the uppercase reference. Again, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=204.15499999999997) [don't need to pass any parameters. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=207.90175000000002) [just write goes to and now here we start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=210.3344) [implementing the body of our unit test.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=213.51425) [Let us define the chai parameter. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=217.282) [const, which is going to be used as the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=219.69539999999998) [reference where to start this data so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=222.336) [childParam is going to be the uppercase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=225.05855555555556) [node. Then next, we need to define the set](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=229.11544444444436) [parameter, which is like the result that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=231.31324999999998) [we expect from this test case. So const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=233.90025) [setParam is equal to INPUT in uppercase.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=237.39555555555555) [Then next, let us define the stubs. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=242.56) [us define a child stub and a set stub. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=245.4869090909091) [const childStub is equal to sinon.stub and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=249.9002857142857) [we do the same for the setStub so just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=258.0086) [change the childStub to be setStub. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=261.038) [let us create next a snap of data. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=264.9364444444444) [us write in here const snap is equal to,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=267.88019999999995) [and then inside this called log, define a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=271.266) [value and a reference. So the value that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=274.62899999999996) [we want to provide needs to be the input](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=277.0234444444444) [in lowercase because the result that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=279.4444999999999) [are expecting from this test case is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=281.57587500000005) [input in uppercase. Next, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=284.7175) [define the reference. To define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=288.43128571428565) [reference, we need to define the parent,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=290.26525000000004) [and inside the parent, we need to define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=292.406) [the child, and the child is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=296.0360000000001) [the childStub. Now next, let us use these](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=299.57499999999993) [stubs to provide some arguments and what](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=302.17600000000004) [they return. After the snap, write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=305.1333333333334) [childStub with arguments and the argument](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=309.1201428571429) [is going to be the child parameter. It](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=311.8906250000001) [returns the setStub. Let us do the same](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=316.8085)[for the setStub, so in here, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=320.3062500000001) [setStub.withArgs, then pass as an argument](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=325.63316666666674) [the setParam which returns then a true.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=329.31275) [And now we need to wrap the function, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=333.404) [for that, we write const wrapped is equal](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=335.87125) [to test.wrap, and in here, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=339.0405) [define the function that we want to wrap](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=342.21575000000007) [so myFunctions.toUpperCase. Now that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=347.35660000000007) [have the data, we have the wrapped](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=350.8180000000001) [function, now we can check the result by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=352.867) [using the assert.equal method. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=354.52025000000015)[that, let us write in here return](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=358.3548888888889) [assert.equal and we want to check the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=360.738) [wrapped function, so wrapped, and as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=364.738) [parameter, we pass the snap data and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=367.116) [result should be true. Now to test this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=370.106) [function, let us save the changes and go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=373.59822222222226) [to the terminal. So go to the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=375.6579999999999) [folder, right-click, and then open in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=378.9078571428571) [terminal. In here, write npm run test. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=381.0862) [in here, we are going to see that our function was executed successfully.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=3&mode=live&start=385.8766)

### [Testing HTTP Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live)

[On the last part, we learned how to test a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=1.121) [non-HTTP function, and on this part, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=3.421) [are going to see how we can test the HTTP](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=6.1834444444444445) [functions. So for that, let us go to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=9.139666666666667) [Visual Code project. So on the last part,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=13.712363636363637) [we tested the toUpperCase function and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=16.917875) [this function was tested using stubs, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=19.0915) [when you use stubs, it means that you are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=21.390000000000004) [testing this function offline without](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=23.760250000000003) [interacting with real data on your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=25.57033333333333) [Firebase project. But on this part, we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=28.855999999999998) [going to see how we can write unit tests](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=30.70519999999999) [that interact with the Firebase project.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=33.097500000000004) [Now normally, you should have a dedicated](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=35.91) [Firebase project to test your functions,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=37.46) [but we are just going to use the same](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=39.965) [function. Now before we start testing, let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=42.58039999999998) [us go to the index.js file and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=44.477666666666686) [function that we are going to test in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=47.32225000000001) [is the addToDoItem function. Now we see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=49.86871428571429) [that we need to provide a query.text and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=53.37866666666666) [then we see that a snapshot is created in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=55.576249999999995) [the todoitems reference where we push the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=58.900499999999994) [original value, which comes as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=61.68466666666666) [query.text parameter. So we see in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=64.34866666666666) [that this function, at the end, redirects](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=66.25275000000002) [us by using a 303 code, as a URL, it uses](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=68.23977777777776) [the snapshot reference. As a parameter, it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=73.26666666666665) [takes a request and a response. Now let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=76.44839999999999) [go to the testing file. Inside here, let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=79.75799999999998) [us start writing our second test. So write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=82.24799999999999) [in here describe and the title of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=85.71925) [test is going to be addToDoItem, then no](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=88.49649999999997) [parameters, so just goes to, and then in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=92.63874999999999) [here, we define the specification of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=96.48687499999997) [function. So this function should return a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=99.08271428571429) [303 redirect. And then in here, we define](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=104.56124999999997) [a function name to be done because we want](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=107.57199999999996) [to call this function when we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=109.30833333333334) [everything ready. Goes to. Now we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=111.91533333333334) [define all this specification. So let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=115.28259999999999) [first define the request and then next the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=117.62866666666667) [response. For the request, we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=119.80066666666667) [write const request is equal to we want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=122.17033333333333) [create a query and this query will have a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=125.587) [text parameter named input. So if we go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=129.92271428571428) [the index.js file, you are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=134.58337500000005)[that we have a request and this request](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=136.59799999999998) [has a query, and inside this query, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=138.42600000000004) [have the text property. And now, let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=140.90399999999997) [define the response. So for that, we write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=143.42457142857145)[const response is equal to and then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=146.27399999999994) [expect a redirect and this has a code and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=150.0664444444444) [the URL. So the redirect, if we go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=154.5748571428571) [index.js, so the redirect in here has a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=158.03155555555557)[code and it has a URL. This goes to. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=160.09510000000006) [we need to define the redirect. So first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=164.60385714285712) [of all, we need to check if the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=166.9658) [redirection code is 303. For that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=168.425) [write assert.equal is a code equal to 303.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=173.71950000000004) [Next, let us define the expected](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=180.01100000000002) [reference, so const expectedRef is equal](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=184.654) [to new. Let us define a regular expression](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=189.9805) [in here so RegExp and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=192.805) [config.databaseURL. So we are using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=198.30300000000003) [config up here, and if you want to work in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=201.30587500000007) [a testing environment, then you need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=203.25922222222226) [change the config in here to your testing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=204.4801428571428) [environment. So config.databaseURL, and to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=207.3744285714286) [this databaseURL, we want to add the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=210.85579999999996) [todoitems, so todoitems because if we go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=215.31100000000006) [to our function, in here we have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=219.31225000000006) [reference to the database, and then to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=222.00024999999997) [this database, we add the todoitems. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=225.08357142857142) [we need to check if these references are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=228.88385714285715)[equal. So assert.isTrue, and then in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=230.78033333333335) [write expectedRef.test and then the URL](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=236.261) [itself. Let us call the function, so done.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=243.88871428571426) [And then after the response, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=247.764)[myFunctions.addTodoItem and then pass as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=250.7442) [parameter the request and the response. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=256.9825) [this is all we have to do for this test.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=260.54290909090906) [Now let us test this test by going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=263.822) [functions, opening terminal, in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=267.05) [write npm run test. So now we see in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=270.436) [that both tests are passing, but we said](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=276.127) [that for this test we are interacting with](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=279.643) [the Firebase project. Let us see what](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=282.451) [happens in our Firebase project. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=285.6826666666667) [have opened our project on the left. Let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=287.87177777777777) [us run the npm run test command one more](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=290.018) [time and we see that in our database a new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=293.0944444444445) [item is created. If we go inside this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=297.5685) [item, we are going to see the original to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=299.87200000000007) [be input and the uppercase to be INPUT in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=301.94100000000003) [capital. The first value in lowercase is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=305.5725000000001) [created by our addToDoItem function, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=307.7655) [the second one is created by our Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=310.2883333333334) [Realtime database trigger, which is the toUpperCase function.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=4&mode=live&start=313.70985714285723)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live)

[We started this module by talking about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=0.987) [running functions locally. We learned how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=4.196) [to run functions locally by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=7.186875) [command line, and by using the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=9.069249999999998)[Functions shell. We learned that by using](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=12.197000000000001) [the command line or the Firebase CLI, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=15.079499999999996) [can only run the HTTP functions, and if we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=17.49044444444444) [want to run the other functions, we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=20.350444444444452) [to use the Cloud Functions shell. Then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=22.839714285714283) [next, we learned how to test functions. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=26.181625) [started by first setting up the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=28.785857142857143) [environment, and then next, we learned how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=30.315) [to test a non-HTTP function. We did so by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=32.059) [not interacting with a Firebase project so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=35.930857142857135) [we used the offline mode. But to test an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=38.463111111111104) [HTTP function, we use the online mode. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=42.087666666666664) [in here, we interacted with our Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=45.33122222222222) [project. Thank you for watching, and see you on the next module.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=b9810a79-0c0f-4257-a1d1-560581408aef&clip=5&mode=live&start=48.56677777777779)

## [Monitoring Firebase Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live)

[Hi, and welcome to this module where we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=0) [are going to talk about monitoring](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=3.6968888888888887) [Firebase functions. But what are we going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=6.831142857142856) [to learn on this module? We are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=9.684499999999998) [start this module by talking about writing](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=12.344500000000002) [logs. Logging is an important tool for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=15.13175) [debugging and monitoring code. And then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=18.52042857142857) [are going to see how we can view the logs.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=21.6718) [Next, we are going to talk about reporting](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=23.81733333333333) [errors. We will learn about different](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=27.43133333333333) [types of reporting and how we can view](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=29.719285714285718) [them from different sources. Then at the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=32.342999999999996) [end of this module, we are going to talk](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=35.22385714285715) [about viewing monitored metrics. So let's get started.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=0&mode=live&start=37.675)

### [Writing and Viewing Logs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live)

[Welcome to this part where we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=1.33) [talk about writing and viewing logs in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=3.802) [Firebase functions. Now logging is an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=7.219333333333333) [important tool for debugging and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=10.186285714285717)[monitoring code and cloud functions gives](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=12.561666666666667) [us the same consult object that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=15.772142857142859) [normally use when we develop applications](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=18.77042857142857) [for web. And in cloud functions, we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=20.862666666666666) [different logging levels. We have the info](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=25.268857142857144) [log level, the error log level, and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=28.60955555555556) [debug log level. When we use the log and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=32.4735) [info commands, we have the info log level](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=36.42124999999999) [and we normally use these commands when we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=39.07066666666667) [want to display useful information while](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=41.259625) [our function is being executed. Then next,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=44.038599999999995) [we use the warn and error commands and we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=47.268249999999995) [use these commands when we want to display](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=50.701) [an error while our application is being](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=53.24800000000001) [executed. The last logging level is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=56.17266666666666) [debug logging level and all the internal](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=58.78849999999999) [system messages have the debug log level.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=62.0565) [Let us go to our project and see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=66.687) [can write and view our logs. For this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=69.11972727272725)[module, we are going to use a project](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=72.28155555555556) [which I have already created and you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=74.0867142857143) [get this project from your exercise files.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=76.84344444444443) [And in here, go to the index.js file and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=79.568)[then inside the helloWorld function. So in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=82.99383333333333) [here, we are going to use all the five](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=86.64659999999999) [commands, for that, let us start with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=88.68775000000001) [first one so console.log. Then we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=91.2946)[going to use the other one, console.info,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=95.32066666666665) [then console.warn, console.error, and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=98.35266666666666) [last one is the console.debug. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=104.636) [enter some meaningful messages for all of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=109.84733333333335) [them. And to see the changes, we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=115.14716666666669) [publish this function to our Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=116.95988888888888) [project. So in here, write firebase deploy](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=119.78183333333334) [--only functions and then define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=125.05828571428569)[function to be helloWorld. So we see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=128.253) [the function was deployed successfully and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=134.30687499999993) [this is how you can write logs inside a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=137.57877777777776) [Firebase function. To test this function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=140.44733333333332) [locally, write in here firebase serve, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=142.6232) [then to run this function, copy this link](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=145.48625000000004) [and go to any browser of your choice,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=148.75433333333325) [paste the link in here, and press Enter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=151.62849999999995) [So we see that the function was executed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=155.35) [successfully, and by now, all the logs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=157.321) [should have been emitted successfully. But](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=160.524) [how can we see the logs that we just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=163.6499) [emitted in our function. To view the logs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=166.169) [for Firebase functions, there are three](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=169.35899999999995) [ways. We can either use the Firebase CLI,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=172.13475000000005) [or we can use the Firebase console, or the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=175.17) [other option is the Stackdriver logging](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=178.63799999999998) [UI. Let us see all these options in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=181.99866666666668) [action. Let us start with the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=185.39750000000004) [CLI. To view the logs with the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=188.52328571428566) [tool, use the functions log command. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=191.35387499999993) [for that, write in here firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=195.0562857142857) [and then log. This will display all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=197.96699999999998) [logs for all the functions within this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=201.91844444444442) [project. So in here, we see that we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=207.09275000000002) [some logs, and if you want to see all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=209.6814000000001) [Firebase logs for a specific function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=212.54700000000005) [then you need to write firebase function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=214.35962500000002) [logs, and then by using the only flag, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=217.18099999999998) [need to define the functions name. So let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=220.1212857142857) [us write in here helloWorld. So here we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=224.58842857142855) [have the result, and if you want to see a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=230.69580000000002) [full range of the log viewing options,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=233.04866666666663) [then you can use the help option. So for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=235.426125) [that, let us write in here firebase help](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=239.33744444444446) [and then functions:log. So in here we see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=242.85825) [all the available options for the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=248.1008888888889) [functions log command. So this is how you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=250.61839999999998) [can see the logs using the Firebase CLI,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=253.81849999999997) [but we can also view the logs by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=256.123) [Firebase console. For that, go to your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=260.7010000000001) [project, then go to the Functions menu](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=263.3982222222223) [item, and then in here, go to the Logs](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=265.816125) [tab. Now in here, we don't see any results](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=269.258) [yet because we executed our function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=271.8217500000001) [locally. If you want to see some results](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=274.79550000000006) [in here, go to the Dashboard tab. In here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=276.74155555555564) [copy the link of this function and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=280.1892222222222) [paste it in a new tab. So we'll see that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=283.3134285714286) [the function is executed successfully. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=286.78355555555555) [now, let us go back to the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=288.3101) [project. Go to the Logs tab, and here we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=290.6869) [can see a lot of results. So we can see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=293.15636363636355) [the this is a log, this is an info, this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=295.39829999999984) [is a warning, and this is an error. Down](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=298.23180000000013) [here you can see the level column, and in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=301.4455) [the level column, we can see only three](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=304.02950000000004) [icons. So the flag that you see in here is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=305.9866666666667) [for debug, the red one is for error. If](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=309.17218181818185) [you want to choose a specific function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=312.4665)[you can do that from the All functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=313.87) [dropdown, so helloWorld and then click](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=315.84) [Done. You can also filter the logging](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=319.5822857142858) [levels. So let us say, for example, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=323.1348571428572) [want only the error logging levels, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=325.2065555555557) [here we are going to get only the emitted](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=327.8483750000001) [errors in our function. The last way to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=331.26259999999996) [view the logs is by using the Stackdriver](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=333.6217999999999)[logging UI. To go to the Stackdriver, go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=336.95750000000004) [to the console.cloud .google .com, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=341.21999999999997) [console.cloud .google .com. Then from the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=345.572) [menu on the left, scroll down to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=349.82728571428567)[Logging menu item and then choose the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=353.0834999999999) [Logs. From the projects drop-down, choose](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=356.591) [our project, so I'll choose the Monitoring](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=358.84666666666664) [project and here we have all the logs. In](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=361.9697142857143) [here, we also see three icons. So we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=366.9874000000001) [the info icon, we have the error icon, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=370.3578999999999) [the debug icon. In here, you can also](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=374.806) [choose the log level. So for example, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=377.85911111111113) [can choose to display only the errors. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=379.89450000000005) [now in here, we see only the error level logs.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=1&mode=live&start=382.48728571428575)

### [Reporting Errors](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live)

[On this part, we are going to talk about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=1.258) [reporting errors in cloud functions and we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=4.205) [can report them automatically or manually.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=7.632) [Let us now see in action how we can report](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=11.989) [errors in cloud functions, and for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=14.248) [let's go to our project. For reporting](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=17.8975) [errors, we are going to use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=20.287499999999998) [Stackdriver error reporting. You can emit](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=22.5885)[an error from a cloud function to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=26.571666666666665) [Stackdriver error reporting by using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=29.124166666666667) [error object. So for example, let us go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=32.64116666666666) [the helloWorld function, and in here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=36.68357142857144) [write console.error, and then as a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=41.30819999999999) [parameter, we need to pass an error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=44.33211111111111) [object. For that, write new and then Error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=46.3325) [and then pass a message. So for example,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=50.76557142857143) [This is a failure. You can also emit](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=55.331285714285706) [errors to Stackdriver by throwing an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=58.679500000000004) [exception. So for example, throw new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=61.00066666666666) [Error, and in here, we write a message](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=65.82833333333333) [Another failure. You would normally do](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=69.86400000000002) [this inside a try and catch block, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=72.03866666666669) [just for demonstration, we are doing them](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=74.82449999999999) [inside this function. But for example, if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=77.46557142857142) [you write in here console.info or](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=79.38550000000002) [console.log and then you create an Error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=81.81) [object inside here, you can just write in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=86.86350000000002) [here Any error, for example, in this case,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=90.07125000000002) [this error is not going to be emitted to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=93.66549999999998) [Stackdriver, but it is going to be logged](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=98.0667142857143) [as an error object the same way if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=100.34729999999996) [throw one, for example, or if you respond,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=103.24049999999997) [for example, by using a status code of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=106.369) [500, for example. In these cases, you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=109.179) [cannot emit an error to Stackdriver, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=112.07785714285714) [with the first two lines, you can. Now let](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=115.287125) [us publish this function to see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=118.827) [results. So in here firebase deploy --only](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=121.51149999999998) [functions and then helloWorld. Now that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=126.02128571428575) [see that the function was successfully](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=130.900375) [updated, let us go to the browser and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=132.29814285714286) [execute this function multiple times. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=135.21614285714287) [in here, I'll press Enter. The function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=138.45616666666666) [was executed one time. Let us execute the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=140.84366666666668) [function one more time. And you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=143.34899999999996) [execute this function as many times as you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=145.23712500000002) [want. To see the result, you need to go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=147.939875) [the console.cloud .google .com, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=150.841) [on the menu on the left, scroll down to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=155.64699999999993) [the Error Reporting, click this menu item,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=158.61333333333337) [then from the drop-down up here, we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=163.604) [choose the projects. I'll choose the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=166.2182)[Monitoring. And then here we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=168.54425) [see all the errors that our cloud function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=170.21559999999994) [has emitted. Now let us go back to our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=173.37799999999993) [project and see how we can manually report](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=176.46560000000005) [the errors. Now in here, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=179.74414285714292) [write the function, but before we start](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=181.63611111111112) [writing any function, we need to install](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=183.22671428571425) [some dependencies. So for that, let us go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=186.06699999999995) [inside the functions folder by typing in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=188.59699999999995) [here cd functions, and then in here, write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=191.444) [npm install --save @google-cloud. So the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=195.07057142857144) [package was installed. Now inside the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=204.52620000000002) [index.js file, let us import the logging](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=207.08962499999998) [library, so for that, we write const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=210.41266666666667) [logging is equal to require, and then in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=213.069625) [here, write google logging. Now we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=217.6898571428571) [going to create a function and we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=220.7106666666667) [going to use this function to send the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=222.5991111111111) [errors to our Stackdriver. And a properly](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=225.1214) [formed log entry requires a monitored](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=228.9482857142857) [resource object and an error event object.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=232.03966666666668) [So let us start creating our function by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=235.15528571428575) [keeping in mind these two objects. Let us](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=238.4095714285714) [name this function function reportError](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=241.04500000000004) [and we are going to pass as a parameter an](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=243.77850000000004) [error and a context which bifold is going](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=248.46210000000005) [to be empty. Now inside the function body,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=252.68375000000006)[let us define the log name and the log](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=256.24175) [itself. So write in here const logName is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=260.225857142857) [equal to errors and the const log is equal](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=264.22155555555537) [to logging.log the logName. Next, we need](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=269.21900000000016) [to define the metadata, so for that, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=276.46557142857137) [write in here const metadata is equal to,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=278.6674999999999) [inside the metadata, we need to define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=282.242) [resource and the resource has two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=285.9602500000001) [properties. The first property is the type](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=288.63700000000006) [and this is a cloud function, so for that,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=290.4159999999999) [we write in here cloud_function and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=292.83866666666654) [second property is the labels property.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=296.96533333333326) [And then inside the labels, we have the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=300.763) [function_name property, and the value of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=302.742) [the function_name is going to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=305.242) [process.env. the function_name. So in our](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=306.736) [case, if we execute it from the helloWorld](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=313.1341) [function, it's going to be the helloWorld](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=315.34683333333334) [function. So we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=318.65200000000004) [FUNCTION_NAME. Next, we need to define the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=324.7266666666666) [error event. So we said that we need to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=328.1222500000001) [define the monitored resources and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=330.34366666666654) [error event. Let us write in here const](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=333.0803333333333) [errorEvent. This is equal to, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=336.9677142857144) [inside here, define the message, which is](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=339.3247499999999) [going to be error.stack or we can change](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=342.1652499999999) [the parameter to be just error just so we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=345.7182857142858) [know with what we are working. So error in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=348.4495999999998) [here .stack and then service context. The](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=353.02249999999987) [second property is the resourceType and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=357.0196666666667) [the resourceType value is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=360.1762) [cloud_function. Let us add the column in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=363.2785714285714) [here and then change the type up here to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=367.9589) [function and that's all. Another property](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=370.685) [for the error event is the context and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=373.366) [context is going to be the same as the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=376.592) [context parameter. That's also now we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=380.1178) [everything we need to return a new promise](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=382.22375) [which is used to write the error log](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=384.5533333333334) [entry. So in here, let us write return new](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=388.1543999999999) [Promise. As a parameter, we write in here](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=392.03700000000015) [resolve and reject goes to. Inside here,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=395.069125) [we write log.write log.entry, we pass two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=399.336)[parameters for the log.entry. The first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=405.844) [one we said is the monitored resource and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=408.86800000000005) [the second one is the errorEvent, so](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=411.4561428571428) [metadata, errorEvent, and then in here we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=415.4635) [write error that goes to and we check if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=419.4546666666665) [is an error, then we want to return a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=423.77687500000013) [reject with the parameter the error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=427.95833333333337) [itself, otherwise, we want to return the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=431.8452)[result, so return resolve. And this is all](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=436.0837777777778) [we need to do to write this function. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=439.25166666666667) [if you want to use this method, simply go](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=441.960375) [inside the function, and then inside this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=445.006) [function, write return reportError and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=447.8024000000001) [pass as a parameter an error and a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=450.817) [context. For example, new Error, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=455.36199999999997) [I'll just write in here This is the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=457.8190000000001) [function and I'll leave the context to be](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=461.12333333333345) [nothing. Remove these two lines. And then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=464.37983333333335) [next, save the changes, publish your](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=467.8193333333333) [function, execute the function, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=470.2613333333333) [go to the Stackdriver. And in the Error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=473.3806666666668) [Reporting, we are going to get the error](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=476.7882222222223) [that we just created. So here, you can see the report error method.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=2&mode=live&start=479.6147142857143)

### [Viewing Monitored Metrics](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live)

[On this part, we are going to see how we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=1.068) [can use the Firebase console and the cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=2.699) [platform console to view the metrics of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=6.503) [our Firebase functions. In Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=9.189) [console, go to the Functions menu item,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=12.88857142857143) [and in this menu item, we are going to see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=15.963857142857142) [four main tabs. So we have the Dashboard](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=19.419749999999993) [tab, and in here, we can see all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=21.907222222222224) [functions. We can see the function name,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=25.0985) [the function trigger, the region of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=27.391) [function, the Node.js runtime, the memory](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=30.139) [allocated, and the timeout. The next tab](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=34.68933333333334) [is the Health tab, and inside this tab, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=38.401) [can either get information for all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=41.244624999999985) [functions or from the drop-down, we can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=43.575714285714284) [choose only one function. In here, I'll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=46.352999999999994) [choose the helloWorld function. If you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=49.248999999999995) [scroll down here, you are going to see a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=51.343666666666664) [graphic for all the errors that this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=53.00366666666666) [function has emitted. And then next, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=55.008) [are going to see the error groups, and in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=57.855666666666664) [the error groups, we are going to see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=59.56814285714287) [number of errors for each type of error.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=61.76099999999999) [So for example, for the Error object, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=65.3) [have in here eight counts, which means](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=68.1115) [that this error has happened eight times](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=70.65485714285715) [in the helloWorld function. If you scroll](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=73.39233333333334) [down, you are going to see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=76.207) [performance, the latency, and the memory](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=77.9435) [for this function. And then at the end, we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=82.07299999999998) [are going to see the outbound networking.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=84.45799999999998) [If you want to find out more about the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=87.494) [single function or more than one function,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=89.233) [you can go to the Logs tab. Now we have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=91.853) [seen this tab so far, so I'll just go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=94.7075) [the last one which is the Usage tab. And](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=96.95449999999998) [in the Usage tab, we can see the number of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=100.0095) [invocations, which is the total function](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=103.93599999999999) [invocation number. So in our case, it's](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=107.14628571428571) [eight, and this is pretty much all the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=109.70400000000004) [information that you can get using the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=111.72171428571428) [Firebase console. If you want to learn](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=114.29699999999998) [about more metrics about Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=116.32149999999999) [functions, you can go to the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=117.728) [Platform console. So for that, go to the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=120.717) [console.cloud .google .com. And then, from](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=124.76050000000001) [the menu on the left, go to the cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=127.45599999999999) [functions, next, choose a function that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=130.23100000000005) [you want, and then in here we can see the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=132.53333333333336) [invocations, we can see the execution](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=134.318) [time, the memory usage. You can also go to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=137.08571428571426) [the triggers, to the source, or you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=140.65988888888884) [see where this function is allocated, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=143.46487499999998) [then you can test this function if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=146.133625) [want to. Let us go back to the General and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=147.7385)[scroll down. In here, we can see the last](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=150.71099999999998) [deployed time, we can see the region of](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=153.928375) [the function, we can see the memory](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=157.24775) [allocated for this function, we can see](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=159.64)[the timeout, the service account, a list](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=161.532625) [of all the errors in the last 7 days. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=164.64325000000002) [for example, the error, another failure,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=169.01142857142855) [was thrown eight times and you can also](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=171.804) [see the environment variables if you have specified any.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=3&mode=live&start=175.25466666666662)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live)

[We talked on this module about logging in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=1.423) [Firebase functions. We started by first](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=5.758666666666667) [seeing how we can write a log and then how](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=8.195777777777776) [we can view the logs. And then at the end,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=10.766499999999999) [we talked about reporting logs. We learned](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=12.627) [how to automatically report errors to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=16.223) [Stackdriver and how we can create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=18.768750000000004) [function to manually report an error to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=21.630285714285716) [the Stackdriver. By the end of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=24.4575) [course, we talked about viewing monitored](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=26.344) [metrics for the Firebase functions. To](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=29.208) [view the metrics, we used both Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=32.562) [console and the cloud platform console. So](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=34.62) [this is all for this module. Thank you for watching, and see you on the next one.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d5269b1-be76-4a3f-b2d4-44ad4fc5c41b&clip=4&mode=live&start=39.120714285714286)

## [Upgrading Firebase Function from Beta Version](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live)

### [Introduction](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live)

[Hi, and welcome to the last module of this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=0) [course. On this module, we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=5.1003) [talk about upgrading Firebase functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=7.382000000000001) [from the beta version. And we are going to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=9.731999999999998) [start this module by first talking about](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=13.399777777777778) [the background non-HTTP functions. We are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=16.124714285714287) [going to talk about all the changes and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=18.948777777777778) [much more. Then next, we are going to talk](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=20.856444444444442) [about the SDK changes by the trigger type.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=23.739222222222224) [We will mention some of the most important](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=27.253) [triggers of the Firebase services. So we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=29.474) [will talk about the Cloud Firestore](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=32.5835) [trigger, about the Realtime Database](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=34.406) [trigger, and much more. So let's get started.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=0&mode=live&start=36.96)

### [Background (Non-HTTP) Functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live)

[We are going to start this module by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=1.4) [talking about the SDK changes that affect](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=3.679) [all the background non-HTTP functions, and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=6.648) [the first change is that the event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=10.39725)[parameter is split now into the data and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=12.058) [context parameters. The data parameter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=16.247666666666667) [represents the data that triggered the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=18.88257142857143) [function and the context parameter](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=21.324666666666666)[provides information about the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=23.875749999999996) [execution. So in here, we have an example](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=27.255666666666663) [function for the database or a Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=29.992555555555548) [Realtime database trigger. Now we are](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=33.183) [going to use the context parameter to get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=36.146499999999996) [different useful information, like for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=39.07520000000001) [example, the event id, the timestamp, etc.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=40.879) [Let us say you want to get the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=44.313)[authentication information for the user.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=45.777) [For that, we are going to use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=48.168) [context.auth property. And if you want to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=50.648) [get the permissions level for the user,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=53.78187500000001) [then you need to use the authType. And if](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=55.50500000000001) [you want to get the ID in the path, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=57.992444444444445) [you can use the context.parameters, or](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=60.972999999999985) [params, .id. We know that each event in](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=65.06450000000001)[the background functions has a unique id,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=69.48975000000003) [and if you want to get this unique event](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=71.66211111111109) [id, then you can use the context.eventid.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=74.19911111111108) [Then if you want to get the timestamp when](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=78.019) [this event happened, then you can use the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=80.818) [context.timestamp property. And if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=82.816) [want to get the event type, you can use](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=86.68899999999998) [the eventType property. You can also get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=88.97349999999999) [the resource which triggered the event by](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=91.36514285714289) [using the context.resource property.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=93.53066666666668) [Compared to beta version, the way that we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=97.291) [initialize the Firebase admin has changed](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=100.013) [as well. So for example, before we used to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=102.94166666666666) [define the functions, the admin, and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=106.00428571428571) [by using the initializeApp method, we had](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=107.91971428571429)[to provide as a parameter the functions](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=110.56700000000001) [that config.firebase configuration. But](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=113.172) [now, we can just write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=116.2058) [admin.initializeApp. So we see that the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=119.01599999999999) [functions.config .firebase has been removed.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=1&mode=live&start=121.718)

### [SDK Changes by Trigger Type](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live)

[For many supported function triggers,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=0.807) [version 1.0 has introduced changes in the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=3.541) [naming for the data fields and methods. On](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=6.697) [this part, we are going to talk about some](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=10.266444444444446) [of the SDK changes for some of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=12.8122) [triggers. So let us start with the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=16.0618) [Firebase Realtime database. You can still](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=18.123) [create the reference for the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=22.307125000000003)[Realtime database the same way. So you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=24.470166666666664) [basically use the database object and then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=28.09842857142857) [the ref method to create the reference.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=30.647) [But before, for example, on the onWrite](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=33.902) [method, you would have an event parameter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=35.929) [And then, by using this event parameter,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=39.301) [you would get all the necessary data. Now](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=41.664) [we don't have one parameter, we have two](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=44.651) [parameters, we have the change and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=47.77162499999999) [context. In the beta version, if you](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=50.699571428571424) [wanted to get the data before change, then](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=53.413500000000006) [you would use the event.data .previous](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=55.235600000000005) [.val methods, but now, you can get the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=58.736599999999996) [before data by using the change.before](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=61.98233333333334) [.val. In the beta version, if you wanted](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=65.55049999999999) [to get the latest version of the data,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=67.66900000000004) [then you would use the event.data .val](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=69.477) [method, but now, you can just write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=72.415) [change.after .val, which in my opinion, it](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=75.186) [is better because of the before and the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=79.04525) [after keyword. What about the Cloud](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=81.97666666666666) [Firestore? You can still create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=85.87679999999999) [reference to a document the same way, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=87.54887500000002) [if you are going to use the onWrite](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=89.6958888888889) [method, it used to have only one](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=92.09144444444445) [parameter, but now it has two parameters.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=94.51344444444443) [And if you wanted to get the before data,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=97.616) [you would use the event.data .previous](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=99.218) [.data method. Now you can just write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=102.86675000000001) [change.before .data, and in beta version,](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=107.76871428571428) [if you wanted to get the latest data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=110.2141111111111) [version, then you would use the event.data](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=112.26350000000002) [.data method, but now, we can just write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=114.78300000000002) [change.after .data. When it comes to](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=119.91900000000001) [authentication, you still can create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=122.65840000000001) [reference the same way. But now the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=124.90244444444446) [onCreate method has two parameters, it has](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=127.69585714285712) [the userRecord and the context. But](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=130.81637499999997) [before, if you wanted to get the created](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=133.476875) [at timestamp, then you would create a](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=135.60071428571428) [userMetadata, and then by using this](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=138.02757142857143) [userMetadata, you would write](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=140.359) [userMetadata.createdAt, but now, you can](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=143.82925) [just write userRecord.metadata](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=145.84339999999997)[.creationTime. In the beta version, to get](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=149.27599999999998) [the last signed in time, you would just](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=152.3813333333334) [write userMetadata.lastSignedInAt, but](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=154.3126666666667) [now, you can write userRecord.metadata](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=158.639)[.lastSignedInTime. So we see that instead](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=162.3095) [of using the event.data, now we can simply use the userRecord parameter.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=2&mode=live&start=165.89562500000005)

### [Summary](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live)

[On this module, which is the last one for](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=1.285) [this course, we talked about some of the](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=4.194) [major differences and how we can upgrade](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=7.055) [from beta version to version 1.0. We](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=8.944) [started by talking about the background](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=12.986833333333333) [non-HTTP functions where we learned that](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=14.9544) [the background functions now don't have](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=18.39933333333333) [only one parameter, but two. Then we](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=21.15885714285714) [talked about the initialization syntax and](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=24.553000000000004) [how we don't need the functions.config](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=26.959285714285716) [anymore when initializing the Firebase](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=29.48625) [admin. Then next, we talked about the SDK](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=32.833200000000005) [changes by trigger type, so we talked](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=36.228) [about the Realtime Database, the Cloud Firestore, authentication, and storage.](https://app.pluralsight.com/player?course=firebase-functions-fundamentals&author=ervis-trupja&name=9d8355e7-15a7-47d4-835c-c6884a6f7425&clip=3&mode=live&start=38.65900000000001)

